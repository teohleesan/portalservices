"use strict";(self.webpackChunkPortal=self.webpackChunkPortal||[]).push([[141],{6141:(nt,P,c)=>{c.r(P),c.d(P,{AuthenticationManagementModule:()=>pe});var p=c(9808),T=c(9274),v=c(655),C=c(4004),h=c(520),s=c(3075),R=c(4652),y=c(9386),t=c(5e3),l=c(9826),g=c(3038),O=c(9),f=c(7093),x=c(7423),q=c(4834),m=c(3489),b=c(8833),U=c(5245),J=c(3322),k=c(9285);function L(n,o){if(1&n&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function Y(n,o){if(1&n&&(t.TgZ(0,"mat-error",26),t.YNc(1,L,3,1,"ng-container",27),t.ALo(2,"matError"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.form.get("userName").errors,"userName"))}}function Q(n,o){if(1&n&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function H(n,o){if(1&n&&(t.TgZ(0,"mat-error",26),t.YNc(1,Q,3,1,"ng-container",27),t.ALo(2,"matError"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.form.get("firstName").errors,"firstName"))}}function B(n,o){if(1&n&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function F(n,o){if(1&n&&(t.TgZ(0,"mat-error",26),t.YNc(1,B,3,1,"ng-container",27),t.ALo(2,"matError"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.form.get("lastName").errors,"lastName"))}}function u(n,o){if(1&n&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function w(n,o){if(1&n&&(t.TgZ(0,"mat-error",26),t.YNc(1,u,3,1,"ng-container",27),t.ALo(2,"matError"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.form.get("password").errors,"password"))}}function _(n,o){if(1&n&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function j(n,o){if(1&n&&(t.TgZ(0,"mat-error",26),t.YNc(1,_,3,1,"ng-container",27),t.ALo(2,"matError"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.form.get("passwordConfirmation").errors,"passwordConfirmation"))}}const ot=function(){return["/authenticationmanagement/signin"]};function it(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",5)(2,"button",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().googleSignUp()}),t._uU(3," Continue with google "),t.qZA(),t.TgZ(4,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().facebookSignUp()}),t._uU(5," Continue with facebook "),t.TgZ(6,"span",8),t._uU(7,"(wip)"),t.qZA()(),t.TgZ(8,"div",9),t._UZ(9,"mat-divider",10),t.TgZ(10,"span",11),t._uU(11,"or sign up with email"),t.qZA(),t._UZ(12,"mat-divider",10),t.qZA(),t.TgZ(13,"form",12)(14,"mat-form-field"),t._UZ(15,"input",13),t.TgZ(16,"mat-icon",14),t._uU(17,"mail"),t.qZA(),t.YNc(18,Y,3,4,"mat-error",15),t.qZA(),t.TgZ(19,"mat-form-field"),t._UZ(20,"input",16),t.YNc(21,H,3,4,"mat-error",15),t.qZA(),t.TgZ(22,"mat-form-field"),t._UZ(23,"input",17),t.YNc(24,F,3,4,"mat-error",15),t.qZA(),t.TgZ(25,"mat-form-field"),t._UZ(26,"input",18),t.TgZ(27,"mat-icon",19),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.hidePassword=!r.hidePassword}),t._uU(28),t.qZA(),t.YNc(29,w,3,4,"mat-error",15),t.qZA(),t.TgZ(30,"mat-form-field"),t._UZ(31,"input",20),t.TgZ(32,"mat-icon",19),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.hideConfirmPassword=!r.hideConfirmPassword}),t._uU(33),t.qZA(),t.YNc(34,j,3,4,"mat-error",15),t.qZA(),t.TgZ(35,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw().signUp()}),t._uU(36," Sign Up "),t.qZA()()(),t.TgZ(37,"div",22)(38,"span",23),t._uU(39," Already have an account? "),t.qZA(),t.TgZ(40,"span",24)(41,"a",25),t._uU(42,"Sign in"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(13),t.Q6J("formGroup",e.form),t.xp6(5),t.Q6J("ngIf",e.form.get("userName").invalid),t.xp6(3),t.Q6J("ngIf",e.form.get("firstName").invalid),t.xp6(3),t.Q6J("ngIf",e.form.get("lastName").invalid),t.xp6(2),t.Q6J("type",e.hidePassword?"password":"text"),t.xp6(2),t.Oqu(e.hidePassword?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",e.form.get("password").invalid),t.xp6(2),t.Q6J("type",e.hideConfirmPassword?"password":"text"),t.xp6(2),t.hij(" ",e.hideConfirmPassword?"visibility_off":"visibility",""),t.xp6(1),t.Q6J("ngIf",e.form.get("passwordConfirmation").invalid),t.xp6(1),t.Q6J("disabled",e.form.invalid)("ngClass",e.form.valid?"text-white bg-green-600":"text-gray-500 bg-gray-300"),t.xp6(6),t.Q6J("routerLink",t.DdM(13,ot))}}function rt(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1," Thanks for signing up and welcome to our Portal Services. "),t._UZ(2,"br")(3,"br"),t._uU(4," An email has been sent to your email address containing an activation link. Please click on the link to activate your account."),t._UZ(5,"br"),t.TgZ(6,"span",30),t._uU(7,"If you do not click the link your account will remain inactive and you will not receive further emails."),t.qZA(),t._UZ(8,"br")(9,"br"),t._uU(10," If you do not receive the email within a few minutes, please check your spam folder. "),t.qZA())}function st(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1," Thanks for signing up and welcome to our Portal Services. "),t._UZ(2,"br")(3,"br"),t.qZA())}function at(n,o){if(1&n&&(t.YNc(0,rt,11,0,"p",28),t.YNc(1,st,4,0,"p",28),t.TgZ(2,"div")(3,"button",29),t._uU(4,"Return to sign in"),t.qZA()()),2&n){const e=t.oxw();t.Q6J("ngIf",!e.isExternalAuthenticate),t.xp6(1),t.Q6J("ngIf",e.isExternalAuthenticate)}}let G=(()=>{class n{constructor(e,i,r,a,d,A,N,et){this.router=e,this.httpService=i,this.toastrService=r,this.sessionService=a,this.fb=d,this.fileService=A,this.googleService=N,this.route=et,this.title="Portal Services",this.hidePassword=!0,this.hideConfirmPassword=!0,this.isSignUp=!1,this.id_token="",this.access_token="",this.error="",this.isExternalAuthenticate=!1,this.logo="./assets/images/default/portal.png"}ngOnDestroy(){this.exterAuth.unsubscribe()}ngOnInit(){this.initform(),this.fileService.loadFile("/assets/keys/clientServerPub.asc",{responseType:"text"}).then(i=>{this.publicKey=i}),this.exterAuth=this.route.fragment.pipe((0,C.U)(i=>new URLSearchParams(i)),(0,C.U)(i=>({access_token:i.get("access_token"),id_token:i.get("id_token"),error:i.get("error")}))).subscribe(i=>{this.access_token=i.access_token,this.id_token=i.id_token,this.error=i.error,this.isExternalAuthenticate=!0,this.apiValidateGoogleToken(i.id_token)})}initform(){this.form=this.fb.group({userName:["",[s.kI.required,s.kI.email,s.kI.maxLength(200)]],firstName:["",[s.kI.required,s.kI.minLength(3),s.kI.maxLength(200)]],lastName:["",[s.kI.required,s.kI.minLength(3),s.kI.maxLength(200)]],password:["",[s.kI.required,s.kI.minLength(5)]],passwordConfirmation:["",[s.kI.required]]},{validator:R.O.ConfirmedValidator("password","passwordConfirmation")})}signUp(){this.isExternalAuthenticate=!1,this.getFormData().then(e=>{this.httpService.HttpPost(this.sessionService.urlSetting.accountManagementWebApiUrl+"authorization/signUp",JSON.stringify(e)).subscribe(r=>{this.signUpSuccess(r)},r=>this.signUpFailed(r))})}getFormData(){return(0,v.mG)(this,void 0,void 0,function*(){return new Promise((e,i)=>(0,v.mG)(this,void 0,void 0,function*(){try{const r=yield y.xh({armoredKey:this.publicKey}),a=yield y.HI({message:yield y.tn({text:this.form.controls.password.value}),encryptionKeys:r}),d=window.btoa(a);e({userName:this.form.controls.userName.value,firstName:this.form.controls.firstName.value,lastName:this.form.controls.lastName.value,password:d})}catch(r){i(void 0)}}))})}googleSignUp(){return(0,v.mG)(this,void 0,void 0,function*(){this.isExternalAuthenticate=!0,yield this.googleService.signInUp("/authenticationmanagement/signup").then(e=>{this.apiValidateGoogleToken(e)}).catch(e=>{this.toastrService.ShowErrorMessage(e)})})}facebookSignUp(){}apiValidateGoogleToken(e){if(null!=e&&e.length>0){let i=this.sessionService.urlSetting.accountManagementWebApiUrl+"authorization/ValidateGoogleToken",r=(new h.LE).set("idToken",e).set("provider","Google").set("action","signup");this.httpService.HttpGetWithParams(i,r).subscribe(a=>{this.signUpSuccess(a)},a=>{this.signUpFailed(a)})}}signUpSuccess(e){this.isExternalAuthenticate?(this.toastrService.ShowSuccessMessage("Sign up successful."),this.sessionService.setUserViewModel(e),this.router.navigate(["/home"])):this.isSignUp=!0}signUpFailed(e){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.F0),t.Y36(g.OE),t.Y36(g._W),t.Y36(g.mj),t.Y36(s.qu),t.Y36(g.Ip),t.Y36(O.B),t.Y36(l.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-signup"]],decls:9,vars:4,consts:[["alt","logo",1,"matero-branding-logo-expanded-signin",3,"src"],[1,"text-gray-500"],[1,"content"],[4,"ngIf","ngIfElse"],["signUpFlag",""],["fxLayout","column","fxLayoutGap","16px"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"f-s-12"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"line"],[1,"f-s-12","f-w-300",2,"font-style","italic"],["fxLayout","column",3,"formGroup"],["matInput","","formControlName","userName","placeholder","youremail@domain.com"],["matSuffix","",1,"icon-18"],["class","f-s-12 f-w-100",4,"ngIf"],["matInput","","formControlName","firstName","placeholder","first name"],["matInput","","formControlName","lastName","placeholder","last name"],["matInput","","formControlName","password","placeholder","password",3,"type"],["matSuffix","",1,"icon-18",3,"click"],["matInput","","formControlName","passwordConfirmation","placeholder","confirm password",3,"type"],["mat-raised-button","",3,"disabled","ngClass","click"],["fxLayoutAlign","center center",2,"margin-top","10px"],[1,"f-s-12","f-w-200"],[1,"signuplink",2,"margin-left","5px"],[1,"text-indigo-600","f-s-12","f-w-600",3,"routerLink"],[1,"f-s-12","f-w-100"],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-raised-button","","color","primary","routerLink","/authenticationmanagement/signin"],[2,"color","red"]],template:function(e,i){if(1&e&&(t.TgZ(0,"section"),t._UZ(1,"img",0),t.TgZ(2,"h2",1),t._uU(3),t.qZA(),t.TgZ(4,"div",2),t.YNc(5,it,43,14,"div",3),t.YNc(6,at,5,2,"ng-template",null,4,t.W1O),t.qZA(),t._UZ(8,"div"),t.qZA()),2&e){const r=t.MAs(7);t.xp6(1),t.Q6J("src",i.logo,t.LSH),t.xp6(2),t.hij("Sign up to ",i.title,""),t.xp6(2),t.Q6J("ngIf",!i.isSignUp)("ngIfElse",r)}},directives:[p.O5,f.xw,f.SQ,x.lW,f.Wh,q.d,s._Y,s.JL,s.sg,m.KE,b.Nt,s.Fj,s.JJ,s.u,U.Hw,m.R9,m.TO,p.sg,p.mk,J.oO,l.yS,l.rH],pipes:[k.h],styles:["section[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:#dbd8d8}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:16px;border-radius:10px;background-color:#f5f5f5}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{overflow-wrap:break-word;text-align:center}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:10px;width:100%}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;font-size:16px;white-space:normal;word-wrap:break-word}section[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{flex:1;border-top-width:1px}section[_ngcontent-%COMP%]   .signuplink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 480px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:90%}}@media (min-width: 481px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:70%}}@media (min-width: 576px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:70%}}@media (min-width: 768px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:50%}}@media (min-width: 992px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:400px}}"]}),n})();var ct=c(224),lt=c(4253),ut=c(2340);let M=(()=>{class n{constructor(e,i){this.httpBackend=e,this.httpClient=i,this.httpClient=new h.eN(e)}HttpGet(e,i){let r=(new h.WM).set("Content-Type","application/json");return this.httpClient.get(e,i?{headers:r,params:i}:{headers:r})}HttpPost(e,i){let r=(new h.WM).set("Content-Type","application/json");return this.httpClient.post(e,i,{headers:r})}HttpPostFormData(e,i){let r=new h.WM,a="";const d=localStorage.getItem("token");return null!=d?(a=`Bearer ${d}`,r=(new h.WM).set("authorization",a).set("Accept","application/json").set("Content-Type","application/x-www-form-urlencoded")):r=(new h.WM).set("Accept","application/json").set("Content-Type","application/x-www-form-urlencoded"),this.httpClient.post(e,i,{headers:r})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(h.jN),t.LFG(h.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var E=c(447),pt=c(9646),dt=c(1135);const mt=new t.OlP("recaptcha-language"),ht=new t.OlP("recaptcha-base-url"),gt=new t.OlP("recaptcha-nonce-tag"),ft=new t.OlP("recaptcha-settings"),_t=new t.OlP("recaptcha-v3-site-key"),xt_loadScript=function vt(n,o,e,i,r){window.ng2recaptchaloaded=()=>{o(grecaptcha)};const a=document.createElement("script");a.innerHTML="",a.src=`${i||"https://www.google.com/recaptcha/api.js"}?render=${n}&onload=ng2recaptchaloaded${e}`,r&&(a.nonce=r),a.async=!0,a.defer=!0,document.head.appendChild(a)};let V=(()=>{class n{constructor(e,i,r,a,d){this.platformId=e,this.language=i,this.baseUrl=r,this.nonce=a,this.v3SiteKey=d,this.init(),this.ready=(0,p.NF)(this.platformId)?n.ready.asObservable():(0,pt.of)()}init(){if(!n.ready&&(0,p.NF)(this.platformId)){const e=new dt.X(null);n.ready=e,xt_loadScript(this.v3SiteKey||"explicit",a=>e.next(a),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}}return n.ready=null,n.\u0275fac=function(e){return new(e||n)(t.LFG(t.Lbi),t.LFG(mt,8),t.LFG(ht,8),t.LFG(gt,8),t.LFG(_t,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),wt=0,z=(()=>{class n{constructor(e,i,r,a){this.elementRef=e,this.loader=i,this.zone=r,this.id="ngrecaptcha-"+wt++,this.errorMode="default",this.resolved=new t.vpe,this.error=new t.vpe,a&&(this.siteKey=a.siteKey,this.theme=a.theme,this.type=a.type,this.size=a.size,this.badge=a.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(e=>{null!=e&&e.render instanceof Function&&(this.grecaptcha=e,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}errored(e){this.error.emit(e)}captchaResponseCallback(e){this.resolved.emit(e)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const e={badge:this.badge,callback:i=>{this.zone.run(()=>this.captchaResponseCallback(i))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(e["error-callback"]=(...i)=>{this.zone.run(()=>this.errored(i))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,e),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(V),t.Y36(t.R0b),t.Y36(ft,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(e,i){2&e&&t.uIk("id",i.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),W=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})(),Ct=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[V],imports:[[W]]}),n})(),yt=(()=>{class n{constructor(e){this.host=e,this.requiresControllerReset=!1}writeValue(e){e?this.host.__unsafe_widgetValue!==e&&!1===Boolean(this.host.__unsafe_widgetValue)&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(e){this.onChange=e,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(e){this.onTouched=e}onResolve(e){this.onChange&&this.onChange(e),this.onTouched&&this.onTouched()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z))},n.\u0275dir=t.lG2({type:n,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(e,i){1&e&&t.NdJ("resolved",function(a){return i.onResolve(a)})},features:[t._Bn([{multi:!0,provide:s.JU,useExisting:(0,t.Gpc)(()=>n)}])]}),n})(),Zt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.u5,W]]}),n})();const St=["recaptcha"];function At(n,o){if(1&n&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function Tt(n,o){if(1&n&&(t.TgZ(0,"mat-error",22),t.YNc(1,At,3,1,"ng-container",23),t.ALo(2,"matError"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.form.get("email").errors,"email"))}}function bt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"p"),t._uU(2," Enter your user account's verified email address and we will send you a password password link. "),t.qZA(),t.TgZ(3,"form",14)(4,"mat-form-field"),t._UZ(5,"input",15),t.TgZ(6,"mat-icon",16),t._uU(7,"mail"),t.qZA(),t.YNc(8,Tt,3,4,"mat-error",17),t.qZA(),t.TgZ(9,"div",18)(10,"mat-label"),t._uU(11,"Verify your account"),t.qZA(),t.TgZ(12,"re-captcha",19,20),t.NdJ("resolved",function(r){return t.CHM(e),t.oxw().checkCaptcha(r)}),t.qZA()(),t.TgZ(14,"div")(15,"button",21),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.send(r.form)}),t._uU(16,"send"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("formGroup",e.form),t.xp6(5),t.Q6J("ngIf",e.form.get("email").invalid),t.xp6(4),t.Q6J("siteKey",e.siteKey),t.xp6(3),t.Q6J("disabled",!e.captchaResolved||e.form.get("email").invalid)("color",e.captchaResolved?"primary":"")}}function Ut(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1," Check your email for a link to reset your password. if it doesn't appear within a few minutes, check your spam folder. "),t.qZA(),t.TgZ(2,"div")(3,"button",24),t._uU(4,"Return to sign in"),t.qZA()())}const kt=function(){return["/authenticationmanagement/signin"]};let D=(()=>{class n{constructor(e,i,r,a,d){this.fb=e,this.sessionService=i,this.httpBackendService=r,this.renderer2=a,this.elementRef=d,this.isRequest=!1,this.logo="",this.siteKey=ut.N.recaptcha.siteKey,this.captchaResolved=!1,this.showProgressBar=!1,this.logo="./assets/images/default/portal.png"}ngOnInit(){this.form=this.fb.group({email:["",[s.kI.required,s.kI.email]],recaptcha:[""]})}ngOnDestroy(){}checkCaptcha(e){this.captchaResolved=!!(e&&e.length>0)}send(e){if(e.invalid)return;let i=(new h.LE).set("email",this.form.controls.email.value);this.showProgressBar=!0,this.httpBackendService.HttpGet(this.sessionService.urlSetting.accountManagementWebApiUrl+"Authorization/RequestPasswordReset",i).subscribe(a=>{this.success(a)},a=>{this.failed(a)},()=>{this.showProgressBar=!1})}success(e){this.isRequest=!0}failed(e){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(g.mj),t.Y36(M),t.Y36(t.Qsj),t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-request-password-reset"]],viewQuery:function(e,i){if(1&e&&t.Gf(St,5),2&e){let r;t.iGM(r=t.CRH())&&(i.recaptchaElement=r.first)}},decls:20,vars:6,consts:[[1,"matero-auth-section"],["alt","logo",1,"matero-branding-logo-expanded-signin",3,"src"],[1,"text-gray-400"],[3,"hidden"],["overlay","true","diameter","70","strokeWidth","5"],[1,"content"],["content",""],[4,"ngIf","ngIfElse"],["requestSuccess",""],["fxLayoutAlign","space-evenly center"],[1,"text-indigo-600","f-s-12","f-w-200"],[1,"hoverlink"],[1,"f-s-12","f-w-200"],[1,"text-indigo-600","f-s-12","f-w-200",3,"routerLink"],["fxLayout","column","fxLayoutGap","16px",3,"formGroup"],["matInput","","formControlName","email","placeholder","Enter your email address"],["matSuffix",""],["class","f-s-12 f-w-100",4,"ngIf"],["fxLayout","column","fxLayoutGap","10px"],["formControlName","recaptcha",3,"siteKey","resolved"],["recaptcha",""],["mat-raised-button","",3,"disabled","color","click"],[1,"f-s-12","f-w-100"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","routerLink","/authenticationmanagement/signin"]],template:function(e,i){if(1&e&&(t.TgZ(0,"section",0),t._UZ(1,"img",1),t.TgZ(2,"h2",2),t._uU(3,"Reset your password"),t.qZA(),t.TgZ(4,"div",3),t._UZ(5,"app-mat-spinner-overlay",4),t.qZA(),t.TgZ(6,"div",5,6),t.YNc(8,bt,17,5,"div",7),t.YNc(9,Ut,5,0,"ng-template",null,8,t.W1O),t.qZA(),t.TgZ(11,"div",9)(12,"span")(13,"a",10),t._uU(14," Terms "),t.qZA()(),t.TgZ(15,"span",11)(16,"span",12),t._uU(17," Back to "),t.qZA(),t.TgZ(18,"a",13),t._uU(19,"Portal Services"),t.qZA()()()()),2&e){const r=t.MAs(10);t.xp6(1),t.Q6J("src",i.logo,t.LSH),t.xp6(3),t.Q6J("hidden",!i.showProgressBar),t.xp6(4),t.Q6J("ngIf",!i.isRequest)("ngIfElse",r),t.xp6(10),t.Q6J("routerLink",t.DdM(5,kt))}},directives:[E.c,p.O5,s._Y,s.JL,f.xw,f.SQ,s.sg,m.KE,b.Nt,s.Fj,s.JJ,s.u,U.Hw,m.R9,m.TO,p.sg,m.hX,z,yt,x.lW,l.rH,f.Wh,l.yS],pipes:[k.h],styles:[""]}),n})();var Mt=c(8446);function Pt(n,o){if(1&n&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function Rt(n,o){if(1&n&&(t.TgZ(0,"mat-error",13),t.YNc(1,Pt,3,1,"ng-container",14),t.ALo(2,"matError"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.form.get("password").errors,"password"))}}function Et(n,o){if(1&n&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function It(n,o){if(1&n&&(t.TgZ(0,"mat-error",13),t.YNc(1,Et,3,1,"ng-container",14),t.ALo(2,"matError"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.form.get("passwordConfirmation").errors,"passwordConfirmation"))}}function Nt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t._UZ(1,"p"),t.TgZ(2,"form",7)(3,"mat-form-field"),t._UZ(4,"input",8),t.TgZ(5,"mat-icon",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.hidePassword=!r.hidePassword}),t._uU(6),t.qZA(),t.YNc(7,Rt,3,4,"mat-error",10),t.qZA(),t.TgZ(8,"mat-form-field"),t._UZ(9,"input",11),t.TgZ(10,"mat-icon",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.hideConfirmPassword=!r.hideConfirmPassword}),t._uU(11),t.qZA(),t.YNc(12,It,3,4,"mat-error",10),t.qZA(),t.TgZ(13,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().reset()}),t._uU(14," Reset "),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.form),t.xp6(2),t.Q6J("type",e.hidePassword?"password":"text"),t.xp6(2),t.Oqu(e.hidePassword?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",e.form.get("password").invalid),t.xp6(2),t.Q6J("type",e.hideConfirmPassword?"password":"text"),t.xp6(2),t.Oqu(e.hideConfirmPassword?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",e.form.get("passwordConfirmation").invalid),t.xp6(1),t.Q6J("disabled",e.form.get("password").invalid||e.form.get("passwordConfirmation").invalid)("color",e.form.get("password").invalid||e.form.get("passwordConfirmation").invalid?"":"primary")}}function Ot(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1," Congratulations! "),t._UZ(2,"br"),t._uU(3," Your password has been changed successfully. "),t.qZA(),t.TgZ(4,"div")(5,"button",15),t._uU(6,"Return to sign in"),t.qZA()())}let K=(()=>{class n{constructor(e,i,r,a,d,A,N){this.fb=e,this.sessionService=i,this.httpBackendService=r,this.route=a,this.fileService=d,this.toastrService=A,this.appConfigService=N,this.isReset=!1,this.logo="",this.hidePassword=!0,this.hideConfirmPassword=!0,this.title="Reset your password",this.errors={},this.logo="./assets/images/default/portal.png"}ngOnInit(){this.form=this.fb.group({email:["",[s.kI.required,s.kI.email]],token:["",s.kI.required],password:["",[s.kI.required,s.kI.minLength(5)]],passwordConfirmation:["",[s.kI.required]]},{validator:R.O.ConfirmedValidator("password","passwordConfirmation")}),this.route.queryParams.pipe().subscribe(r=>{this.form.controls.email.patchValue(r.email||""),this.form.controls.token.patchValue(r.token||"")});const i=`${this.appConfigService.getValue().publicKey}?${Date.now()}`;this.fileService.loadFile(i,{responseType:"text"}).then(r=>{this.publicKey=r})}reset(){this.getData().then(e=>{this.httpBackendService.HttpPost(this.sessionService.urlSetting.accountManagementWebApiUrl+"authorization/resetPassword",e).subscribe({next:r=>{this.success(r)},error:r=>{this.failed(r)}})})}getData(){return(0,v.mG)(this,void 0,void 0,function*(){return new Promise((e,i)=>(0,v.mG)(this,void 0,void 0,function*(){try{const r=yield y.xh({armoredKey:this.publicKey}),a=yield y.HI({message:yield y.tn({text:this.form.controls.password.value}),encryptionKeys:r}),d=window.btoa(a);e({email:this.form.controls.email.value,token:this.form.controls.token.value,password:d})}catch(r){i(void 0)}}))})}success(e){this.isReset=!0,this.title="Password Reset Successfully"}failed(e){this.toastrService.ShowErrorMessage("",e.error.returnMessage)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(g.mj),t.Y36(M),t.Y36(l.gz),t.Y36(g.Ip),t.Y36(g._W),t.Y36(Mt._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-password-reset"]],decls:9,vars:4,consts:[[1,"matero-auth-section"],["alt","logo",1,"matero-branding-logo-expanded-signin",3,"src"],[1,"text-gray-400"],[1,"content"],["content",""],[4,"ngIf","ngIfElse"],["resetSuccess",""],["fxLayout","column","fxLayoutGap","16px",3,"formGroup"],["matInput","","formControlName","password","placeholder","password",3,"type"],["matSuffix","",3,"click"],["class","f-s-12 f-w-100",4,"ngIf"],["matInput","","formControlName","passwordConfirmation","placeholder","confirm password",3,"type"],["mat-raised-button","",3,"disabled","color","click"],[1,"f-s-12","f-w-100"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","routerLink","/authenticationmanagement/signin"]],template:function(e,i){if(1&e&&(t.TgZ(0,"section",0),t._UZ(1,"img",1),t.TgZ(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3,4),t.YNc(6,Nt,15,9,"div",5),t.YNc(7,Ot,7,0,"ng-template",null,6,t.W1O),t.qZA()()),2&e){const r=t.MAs(8);t.xp6(1),t.Q6J("src",i.logo,t.LSH),t.xp6(2),t.Oqu(i.title),t.xp6(3),t.Q6J("ngIf",!i.isReset)("ngIfElse",r)}},directives:[p.O5,s._Y,s.JL,f.xw,f.SQ,s.sg,m.KE,b.Nt,s.Fj,s.JJ,s.u,U.Hw,m.R9,m.TO,p.sg,x.lW,l.rH],pipes:[k.h],styles:[""]}),n})();var qt=c(4533);function Jt(n,o){if(1&n&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function Lt(n,o){if(1&n&&(t.TgZ(0,"mat-error",21),t.YNc(1,Jt,3,1,"ng-container",22),t.ALo(2,"matError"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.form.get("fullName").errors,"fullName"))}}function Yt(n,o){if(1&n&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function Qt(n,o){if(1&n&&(t.TgZ(0,"mat-error",21),t.YNc(1,Yt,3,1,"ng-container",22),t.ALo(2,"matError"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.form.get("email").errors,"email"))}}function Bt(n,o){if(1&n&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e," ")}}function Ft(n,o){if(1&n&&(t.TgZ(0,"mat-error",21),t.YNc(1,Bt,3,1,"ng-container",22),t.ALo(2,"matError"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.form.get("message").errors,"message"))}}function jt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"p",10),t._uU(2,"Please fill this form in a decent manner"),t.qZA(),t.TgZ(3,"div",11)(4,"form",12)(5,"mat-form-field",13)(6,"mat-label"),t._uU(7,"Full Name"),t.qZA(),t._UZ(8,"input",14),t.YNc(9,Lt,3,4,"mat-error",15),t.qZA(),t.TgZ(10,"mat-form-field",13)(11,"mat-label"),t._uU(12,"Email"),t.qZA(),t._UZ(13,"input",16),t.TgZ(14,"mat-icon",17),t._uU(15,"mail"),t.qZA(),t.YNc(16,Qt,3,4,"mat-error",15),t.qZA(),t.TgZ(17,"mat-form-field",13)(18,"mat-label"),t._uU(19,"Message"),t.qZA(),t.TgZ(20,"textarea",18,19),t._uU(22,"              "),t.qZA(),t.YNc(23,Ft,3,4,"mat-error",15),t.qZA(),t.TgZ(24,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw().send()}),t._uU(25," Send "),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.form),t.xp6(5),t.Q6J("ngIf",e.form.get("fullName").invalid),t.xp6(7),t.Q6J("ngIf",e.form.get("email").invalid),t.xp6(7),t.Q6J("ngIf",e.form.get("message").invalid),t.xp6(1),t.Q6J("color",e.form.valid?"primary":"warn")("disabled",e.form.invalid)}}function Ht(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1," The form information was sent successfully. "),t._UZ(2,"br"),t._uU(3," We will be attended to shortly. "),t.qZA())}const Gt=function(){return["/authenticationmanagement/signin"]};let $=(()=>{class n{constructor(e,i,r){this.fb=e,this.sessionService=i,this.httpBackendService=r,this.isLoading=!1,this.isSend=!1,this.logo="./assets/images/default/portal.png"}ngOnInit(){this.form=this.fb.group({fullName:["",[s.kI.required,s.kI.minLength(5)]],email:["",[s.kI.required,s.kI.email]],message:["",s.kI.required]})}send(){let e=JSON.stringify(this.form.value);this.httpBackendService.HttpPost(this.sessionService.urlSetting.accountManagementWebApiUrl+"Authorization/ContactUs",e).subscribe({next:r=>{this.success(r)},error:r=>{this.failed(r)}})}success(e){this.isSend=!0}failed(e){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(g.mj),t.Y36(M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-contact-us"]],decls:14,vars:5,consts:[[1,"matero-auth-section"],["alt","logo",1,"matero-branding-logo-expanded-signin",3,"src"],[1,"text-gray-500"],[1,"content"],[4,"ngIf","ngIfElse"],["success",""],["fxLayout","row","fxLayoutAlign","center center",2,"margin-top","10px"],[1,"f-s-12","f-w-200"],[1,"hoverlink",2,"margin-left","5px","margin-top","-5px"],[1,"text-indigo-600","f-s-12","f-w-600",3,"routerLink"],[1,"f-s-14","f-w-200"],["fxLayout","column","fxLayoutGap","16px"],["fxLayout","column",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","fullName"],["class","f-s-12 f-w-100",4,"ngIf"],["matInput","","formControlName","email"],["matSuffix",""],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","5","cdkAutosizeMaxRows","10","formControlName","message"],["autosize","cdkTextareaAutosize"],["mat-raised-button","",3,"color","disabled","click"],[1,"f-s-12","f-w-100"],[4,"ngFor","ngForOf"]],template:function(e,i){if(1&e&&(t.TgZ(0,"section",0),t._UZ(1,"img",1),t.TgZ(2,"h2",2),t._uU(3,"Contact Us"),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,jt,26,6,"div",4),t.YNc(6,Ht,4,0,"ng-template",null,5,t.W1O),t.TgZ(8,"div",6)(9,"span",7),t._uU(10," Already have an account? "),t.qZA(),t.TgZ(11,"span",8)(12,"a",9),t._uU(13,"Sign in"),t.qZA()()()()()),2&e){const r=t.MAs(7);t.xp6(1),t.Q6J("src",i.logo,t.LSH),t.xp6(4),t.Q6J("ngIf",!i.isSend)("ngIfElse",r),t.xp6(7),t.Q6J("routerLink",t.DdM(4,Gt))}},directives:[p.O5,f.xw,f.SQ,s._Y,s.JL,s.sg,m.KE,m.hX,b.Nt,s.Fj,s.JJ,s.u,m.TO,p.sg,U.Hw,m.R9,qt.IC,x.lW,f.Wh,l.yS],pipes:[k.h],styles:[""]}),n})();var X=c(9292);const Vt=function(){return["/authenticationmanagement/contactus"]};function zt(n,o){1&n&&(t.TgZ(0,"div")(1,"p"),t._uU(2," There is some technical issue to activate your account. "),t._UZ(3,"br"),t._uU(4," Please tap the "),t.TgZ(5,"span",10)(6,"a",11),t._uU(7,"Contact Us"),t.qZA()(),t._uU(8," link to tell us your issue. "),t.qZA()()),2&n&&(t.xp6(6),t.Q6J("routerLink",t.DdM(1,Vt)))}function Wt(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,zt,9,2,"div",9),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.showProgressBar)}}function Dt(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1," your account has been successfully activated. "),t.qZA(),t.TgZ(2,"div")(3,"button",12),t._uU(4,"Return to sign in"),t.qZA()())}function Kt(n,o){if(1&n&&(t.TgZ(0,"div",5),t.YNc(1,Wt,2,1,"div",6),t.YNc(2,Dt,5,0,"ng-template",7,8,t.W1O),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",!i.isConfirm)("ngIfElse",e)}}let tt=(()=>{class n{constructor(e,i,r){this.sessionService=e,this.route=i,this.httpBackendService=r,this.isConfirm=!1,this.logo="",this.showProgressBar=!0,this.token="",this.email=""}ngOnInit(){this.route.queryParams.pipe().subscribe(e=>{this.email=e.email||"",this.token=e.token||"",""!==this.email&&""!==this.token?this.httpBackendService.HttpPost(this.sessionService.urlSetting.accountManagementWebApiUrl+"Authorization/EmailConfirmation",JSON.stringify({email:this.email,token:this.token})).subscribe({next:a=>{this.success(a)},error:a=>{this.failed(a)}}):this.showProgressBar=!1})}success(e){this.isConfirm=!0,this.showProgressBar=!1}failed(e){this.showProgressBar=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(X.m),t.Y36(l.gz),t.Y36(M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-email-confirmation"]],decls:6,vars:2,consts:[[1,"matero-auth-section"],[1,"text-gray-400"],[3,"hidden"],["overlay","true","diameter","70","strokeWidth","5"],["class","content",4,"ngIf"],[1,"content"],[4,"ngIf","ngIfElse"],["style","background-color:whitesmoke;"],["confirmSuccess",""],[4,"ngIf"],[1,"hoverlink",2,"margin-left","2px","margin-top","-5px"],[1,"text-indigo-600","f-s-14","f-w-600",3,"routerLink"],["mat-raised-button","","color","primary","routerLink","/authenticationmanagement/signin"]],template:function(e,i){1&e&&(t.TgZ(0,"section",0)(1,"h2",1),t._uU(2,"Account Activation"),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"app-mat-spinner-overlay",3),t.qZA(),t.YNc(5,Kt,4,2,"div",4),t.qZA()),2&e&&(t.xp6(3),t.Q6J("hidden",!i.showProgressBar),t.xp6(2),t.Q6J("ngIf",!i.showProgressBar))},directives:[E.c,p.O5,l.yS,x.lW,l.rH],styles:[""]}),n})();var I=c(4987);const $t=function(){return["/authenticationmanagement/contactus"]};function Xt(n,o){1&n&&(t.TgZ(0,"div")(1,"p"),t._uU(2," There is some technical issue to validate your account. "),t._UZ(3,"br"),t._uU(4," Please tap the "),t.TgZ(5,"span",10)(6,"a",11),t._uU(7,"Contact Us"),t.qZA()(),t._uU(8," link to tell us your issue. "),t.qZA()()),2&n&&(t.xp6(6),t.Q6J("routerLink",t.DdM(1,$t)))}function te(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Xt,9,2,"div",9),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.showProgressBar)}}function ee(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1," your account login has been successfully validated. "),t.qZA(),t.TgZ(2,"div")(3,"button",12),t._uU(4,"Return to sign in"),t.qZA()())}function ne(n,o){if(1&n&&(t.TgZ(0,"div",5),t.YNc(1,te,2,1,"div",6),t.YNc(2,ee,5,0,"ng-template",7,8,t.W1O),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",!i.isConfirm)("ngIfElse",e)}}let Z=class{constructor(o,e,i,r,a){this.route=o,this.router=e,this.sessionService=i,this.httpBackendService=r,this.toastrService=a,this.isConfirm=!1,this.showProgressBar=!0,this.id_token="",this.access_token="",this.error=""}ngOnInit(){if(this.route.fragment.pipe((0,I.t)(this),(0,C.U)(o=>new URLSearchParams(o)),(0,C.U)(o=>({access_token:o.get("access_token"),id_token:o.get("id_token"),error:o.get("error")}))).subscribe(o=>{this.access_token=o.access_token,this.id_token=o.id_token,this.error=o.error}),null!=this.id_token){let o=this.sessionService.urlSetting.accountManagementWebApiUrl+"authorization/ValidateGoogleToken",e=(new h.LE).set("idToken",this.id_token).set("provider","Google").set("action","signin");this.httpBackendService.HttpGet(o,e).subscribe(i=>{this.signinSuccess(i)},i=>{this.signinFailed(i)})}}signinSuccess(o){this.toastrService.ShowSuccessMessage("Sign in successful."),this.sessionService.setUserViewModel(o),this.router.navigate(["/home"])}signinFailed(o){this.toastrService.ShowErrorMessage("Sign in failed."),this.showProgressBar=!this.showProgressBar,this.router.navigate([""])}};Z.\u0275fac=function(o){return new(o||Z)(t.Y36(l.gz),t.Y36(l.F0),t.Y36(X.m),t.Y36(M),t.Y36(g._W))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-external-authentication-signin"]],decls:6,vars:2,consts:[[1,"matero-auth-section"],[1,"text-gray-400"],[3,"hidden"],["overlay","true","diameter","70","strokeWidth","5"],["class","content",4,"ngIf"],[1,"content"],[4,"ngIf","ngIfElse"],["style","background-color:whitesmoke;"],["confirmSuccess",""],[4,"ngIf"],[1,"hoverlink",2,"margin-left","2px","margin-top","-5px"],[1,"text-indigo-600","f-s-14","f-w-600",3,"routerLink"],["mat-raised-button","","color","primary","routerLink","/authenticationmanagement/signin"]],template:function(o,e){1&o&&(t.TgZ(0,"section",0)(1,"h2",1),t._uU(2,"Account Validation"),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"app-mat-spinner-overlay",3),t.qZA(),t.YNc(5,ne,4,2,"div",4),t.qZA()),2&o&&(t.xp6(3),t.Q6J("hidden",!e.showProgressBar),t.xp6(2),t.Q6J("ngIf",!e.showProgressBar))},directives:[E.c,p.O5,l.yS,x.lW,l.rH],styles:[""]}),Z=(0,v.gn)([(0,I.c)()],Z);const oe=function(){return["/authenticationmanagement/contactus"]};function ie(n,o){1&n&&(t.TgZ(0,"div")(1,"p"),t._uU(2," There is some technical issue to validate your account. "),t._UZ(3,"br"),t._uU(4," Please tap the "),t.TgZ(5,"span",10)(6,"a",11),t._uU(7,"Contact Us"),t.qZA()(),t._uU(8," link to tell us your issue. "),t.qZA()()),2&n&&(t.xp6(6),t.Q6J("routerLink",t.DdM(1,oe)))}function re(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,ie,9,2,"div",9),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.showProgressBar)}}function se(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1," your account login has been successfully validated. "),t.qZA(),t.TgZ(2,"div")(3,"button",12),t._uU(4,"Return to sign in"),t.qZA()())}function ae(n,o){if(1&n&&(t.TgZ(0,"div",5),t.YNc(1,re,2,1,"div",6),t.YNc(2,se,5,0,"ng-template",7,8,t.W1O),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",!i.isConfirm)("ngIfElse",e)}}let S=class{constructor(o,e,i,r,a){this.route=o,this.router=e,this.sessionService=i,this.httpBackendService=r,this.toastrService=a,this.isConfirm=!1,this.showProgressBar=!0,this.id_token="",this.access_token="",this.error=""}ngOnInit(){if(this.route.fragment.pipe((0,I.t)(this),(0,C.U)(o=>new URLSearchParams(o)),(0,C.U)(o=>({access_token:o.get("access_token"),id_token:o.get("id_token"),error:o.get("error")}))).subscribe(o=>{this.access_token=o.access_token,this.id_token=o.id_token,this.error=o.error}),null!=this.id_token){let o=this.sessionService.urlSetting.accountManagementWebApiUrl+"authorization/ValidateGoogleToken",e=(new h.LE).set("idToken",this.id_token).set("provider","Google").set("action","signup");this.httpBackendService.HttpGet(o,e).subscribe(i=>{this.signupSuccess(i)},i=>{this.signupFailed(i)})}}signupSuccess(o){this.toastrService.ShowSuccessMessage("Sign up Successful."),this.sessionService.setUserViewModel(o),this.router.navigate(["/home"])}signupFailed(o){this.toastrService.ShowErrorMessage("Sign up failed."),this.showProgressBar=!this.showProgressBar,this.router.navigate([""])}};S.\u0275fac=function(o){return new(o||S)(t.Y36(l.gz),t.Y36(l.F0),t.Y36(g.mj),t.Y36(M),t.Y36(g._W))},S.\u0275cmp=t.Xpm({type:S,selectors:[["app-external-authentication-signup"]],decls:6,vars:2,consts:[[1,"matero-auth-section"],[1,"text-gray-400"],[3,"hidden"],["overlay","true","diameter","70","strokeWidth","5"],["class","content",4,"ngIf"],[1,"content"],[4,"ngIf","ngIfElse"],["style","background-color:whitesmoke;"],["confirmSuccess",""],[4,"ngIf"],[1,"hoverlink",2,"margin-left","2px","margin-top","-5px"],[1,"text-indigo-600","f-s-14","f-w-600",3,"routerLink"],["mat-raised-button","","color","primary","routerLink","/authenticationmanagement/signin"]],template:function(o,e){1&o&&(t.TgZ(0,"section",0)(1,"h2",1),t._uU(2,"Account Validation"),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"app-mat-spinner-overlay",3),t.qZA(),t.YNc(5,ae,4,2,"div",4),t.qZA()),2&o&&(t.xp6(3),t.Q6J("hidden",!e.showProgressBar),t.xp6(2),t.Q6J("ngIf",!e.showProgressBar))},directives:[E.c,p.O5,l.yS,x.lW,l.rH],styles:[""]}),S=(0,v.gn)([(0,I.c)()],S);const ce=[{path:"",component:T.x},{path:"signin",component:T.x},{path:"signup",component:G},{path:"emailconfirmation",component:tt},{path:"requestpasswordreset",component:D},{path:"passwordreset",component:K},{path:"contactus",component:$},{path:"extauthsignin",component:Z},{path:"extauthsignup",component:S},{path:"**",component:T.x}],ue=[p.ez,(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(ce)],l.Bz]}),n})(),Ct,Zt,ct.m,lt.O];let pe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[],imports:[[...ue]]}),n})()},4253:(nt,P,c)=>{c.d(P,{O:()=>F});var p=c(224),T=c(9808),s=(c(9648),c(3577),c(2982),c(5e3));c(9295),c(7093),c(9224),c(9826),c(5245),c(928),c(6200),c(4951),c(8400),c(9749),c(8489),c(5464);const B=[T.ez,p.m];let F=(()=>{class u{}return u.\u0275fac=function(_){return new(_||u)},u.\u0275mod=s.oAB({type:u}),u.\u0275inj=s.cJS({imports:[[...B]]}),u})()}}]);