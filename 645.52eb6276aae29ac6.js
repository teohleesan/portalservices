"use strict";(self.webpackChunkPortal=self.webpackChunkPortal||[]).push([[645],{645:(Ae,$,l)=>{l.r($),l.d($,{RoomModule:()=>Te,maskConfig:()=>st});var _=l(9808),I=l(655),U=l(5101),u=l(4999),N=l(9256),p=l(4987),g=l(2062),t=l(5e3),c=l(3038),O=l(8446),y=l(9826),v=l(7093),W=l(9814),m=l(3075),V=l(6087),R=l(4623),L=l(508),X=l(4834),D=l(2046);function lt(i,e){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,o.dateTo))}}function ct(i,e){1&i&&(t.TgZ(0,"span"),t._uU(1,"present"),t.qZA())}function mt(i,e){if(1&i&&(t.TgZ(0,"mat-list-item")(1,"div",11)(2,"div",12),t._UZ(3,"img",13),t.qZA(),t.TgZ(4,"div",14)(5,"div",15)(6,"div",16)(7,"h3",17),t._uU(8),t.qZA(),t.TgZ(9,"p",17)(10,"span"),t._uU(11),t.qZA()(),t.TgZ(12,"p",17)(13,"span"),t._uU(14),t.ALo(15,"date"),t.qZA()(),t.TgZ(16,"p",17)(17,"span"),t._uU(18),t.qZA()(),t.TgZ(19,"h2",17)(20,"span"),t._uU(21),t.ALo(22,"date"),t.qZA(),t.YNc(23,lt,3,3,"span",18),t.YNc(24,ct,2,0,"span",18),t.qZA()(),t.TgZ(25,"div",19)(26,"h3",17),t._uU(27),t.qZA(),t.TgZ(28,"p",17)(29,"span"),t._uU(30),t.ALo(31,"date"),t.qZA()(),t.TgZ(32,"p",17)(33,"span"),t._uU(34),t.ALo(35,"date"),t.qZA()()()()()(),t._UZ(36,"mat-divider",20),t.qZA()),2&i){const o=e.$implicit;t.xp6(3),t.Q6J("src",o.photo,t.LSH),t.xp6(5),t.hij(" ",o.name," "),t.xp6(3),t.hij("WP No : ",o.workPermitNumber," "),t.xp6(3),t.hij("WP expiry : ",t.lcZ(15,13,o.workPermitExpiry)," "),t.xp6(4),t.hij("Nationality : ",o.nationality," "),t.xp6(3),t.hij("Checkin : ",t.lcZ(22,15,o.dateFrom)," - "),t.xp6(2),t.Q6J("ngIf",null!==o.dateTo),t.xp6(1),t.Q6J("ngIf",null===o.dateTo),t.xp6(3),t.AsE("",o.customerCode," / ",o.customer," "),t.xp6(3),t.hij("Hire date : ",t.lcZ(31,17,o.hireDate)," "),t.xp6(4),t.hij("Resign date : ",t.lcZ(35,19,o.resignDate)," "),t.xp6(2),t.Q6J("inset",!0)}}let x=class{constructor(e,o,a,n,r,s,d,h){this.sessionService=e,this.httpService=o,this.toastrService=a,this.actionService=n,this.fileService=r,this.reactiveformService=s,this.appConfigService=d,this.route=h,this.title="Occupants",this.lastRowIndex=-1,this.dataSource=new u.by(null),this.id="",this.status="nullCheckOut"}ngOnInit(){this.initializeToolbar(),this.initialize(),this.route.queryParams.pipe((0,p.t)(this)).subscribe(e=>{this.id=e.id||"",0!==this.id.length&&this.id!==g.i.empty&&this.executeSearch()}),this.actionService.toggleRefreshEvent.pipe((0,p.t)(this)).subscribe(e=>this.executeSearch())}ngOnDestroy(){}initializeToolbar(){const e=new N.P;e.showNavigatebefore=!0,e.showReferesh=!0,e.title=this.title,e.navigatebeforeUrl="/dormitorymanagement/room/inquiry",this.actionService.setToolbarSettings(e)}initialize(){this.lastSearchValue="",this.inquiry=new U.U,this.inquiry.sortExpression="dateFrom"}initializeForm(){}executeSearch(){if(0===this.id.length||this.id===g.i.empty)return;let e=JSON.stringify(this.inquiry),o=JSON.parse(e);o.roomId=this.id,o.status=this.status,this.httpService.HttpPost(this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"occupancy/GetActiveOccupantsByRoomIDWithDate",JSON.stringify(o)).subscribe(n=>{this.inquirySuccess(n)},n=>this.inquiryFailed(n))}inquirySuccess(e){this.lastRowIndex=e.entity.length,this.inquiry.totalPages=e.totalPages,this.inquiry.totalRows=e.totalRows,e.entity.map(o=>{o.photo=o.photo?this.fileService.loadImage(o.photo):this.appConfigService.getValue().avatar}),this.dataSource.data=e.entity,this.dataSource._updateChangeSubscription()}inquiryFailed(e){}onPaginateChange(e){this.inquiry.currentPageNumber=e.pageIndex+1,this.inquiry.pageSize=e.pageSize,this.executeSearch()}sortData(e){this.inquiry.currentPageNumber=1,this.inquiry.sortDirection=e.direction,this.inquiry.sortExpression=e.active,this.executeSearch()}resetSearch(){this.lastSearchValue="",this.inquiry.filter="",this.executeSearch()}radioChange(e){this.executeSearch()}};x.\u0275fac=function(e){return new(e||x)(t.Y36(c.mj),t.Y36(c.OE),t.Y36(c._W),t.Y36(c.cw),t.Y36(c.Ip),t.Y36(c.xd),t.Y36(O._),t.Y36(y.gz))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-room-occupant"]],decls:15,vars:14,consts:[["fxLayout","row wrap","fxLayoutAlign","space-between center"],["fxFlex.gt-xs","50","fxFlex","100",1,"p-l-16"],[2,"margin-left","0px",3,"ngModel","ngModelChange","change"],[1,"f-s-12","f-w-100"],["value","nullCheckOut",1,"f-s-12","f-w-100","m-l-16"],["value","all",1,"f-s-12","f-w-100","m-l-16"],["fxFlex.gt-xs","50","fxFlex","100"],[3,"length","showFirstLastButtons","pageSize","pageIndex","pageSizeOptions","page"],[1,"app-list"],[4,"ngFor","ngForOf"],[3,"lastRowIndex","title","message"],["fxLayout","row wrap",2,"width","100%"],["fxFlex","15","fxFlex.xs","25","fxFlex.sm","20","fxLayout","row","fxLayoutAlign","center center"],["matListAvatar","",3,"src"],["fxFlex","85","fxFlex.xs","75","fxFlex.sm","80"],["fxLayout","row wrap","fxLayout.sm","column","fxLayout.xs","column"],["fxFlex","60"],["matLine",""],[4,"ngIf"],["fxFlex","40"],[3,"inset"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-radio-group",2),t.NdJ("ngModelChange",function(n){return o.status=n})("change",function(n){return o.radioChange(n)}),t.TgZ(3,"label",3),t._uU(4," Status"),t.qZA(),t.TgZ(5,"mat-radio-button",4),t._uU(6,"Active "),t.qZA(),t.TgZ(7,"mat-radio-button",5),t._uU(8,"All"),t.qZA()()(),t.TgZ(9,"div",6)(10,"mat-paginator",7),t.NdJ("page",function(n){return o.onPaginateChange(n)}),t.qZA()()(),t.TgZ(11,"mat-list",8),t.YNc(12,mt,37,21,"mat-list-item",9),t.qZA(),t._UZ(13,"app-empty-layout",10),t.TgZ(14,"mat-paginator",7),t.NdJ("page",function(n){return o.onPaginateChange(n)}),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngModel",o.status),t.xp6(8),t.Q6J("length",o.inquiry.totalRows)("showFirstLastButtons",!0)("pageSize",o.inquiry.pageSize)("pageIndex",o.inquiry.currentPageIndex)("pageSizeOptions",o.inquiry.pageSizeOptions),t.xp6(2),t.Q6J("ngForOf",o.dataSource.data),t.xp6(1),t.Q6J("lastRowIndex",o.lastRowIndex)("title","No record found"),t.xp6(1),t.Q6J("length",o.inquiry.totalRows)("showFirstLastButtons",!0)("pageSize",o.inquiry.pageSize)("pageIndex",o.inquiry.currentPageIndex)("pageSizeOptions",o.inquiry.pageSizeOptions))},directives:[v.xw,v.Wh,v.yH,W.VQ,m.JJ,m.On,W.U0,V.NW,R.i$,_.sg,R.Tg,R.eA,L.X2,_.O5,X.d,D.B],pipes:[_.uU],styles:[".app-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-avatar[_ngcontent-%COMP%]{height:100px;width:100px;border-radius:50%;-o-object-fit:cover;object-fit:cover}.app-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:first-child{border-top:1px solid #e0e0e0}"]}),x=(0,I.gn)([(0,p.c)()],x);var w=l(4576);class K{constructor(){this.id=g.i.empty,this.roomId=g.i.empty,this.fileName="",this.remark="",this.isChecked=!1,this.base64String=null,this.img=null,this.file=null,this.isDefault=!1}}var ut=l(449),q=l(8966),tt=l(13),P=l(4241),et=l(3606),dt=l(5684),Y=l(7423),pt=l(7238),F=l(5245),M=l(3954),Q=l(3322),gt=l(7446),Z=l(3489),E=l(8833);const ht=["fileUpload"],_t=function(){return{color:"red"}};function ft(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"mat-grid-tile",12)(1,"mat-grid-tile-header")(2,"span",13)(3,"span",14)(4,"button",15),t.NdJ("click",function(){const n=t.CHM(o),r=n.$implicit,s=n.index;return t.oxw(3).toggleAsDefault(r,s)}),t.TgZ(5,"mat-icon",16),t._uU(6,"location_on"),t.qZA()(),t._uU(7),t.qZA()(),t._UZ(8,"span",17),t.TgZ(9,"span")(10,"mat-checkbox",18),t.NdJ("click",function(n){return n.stopPropagation()})("change",function(n){const s=t.CHM(o).$implicit,d=t.oxw(3);return n?d.selection.toggle(s):null}),t.qZA()()(),t._UZ(11,"img",19),t.TgZ(12,"mat-grid-tile-footer")(13,"span",20),t._uU(14),t.qZA(),t._UZ(15,"span",17),t.TgZ(16,"span")(17,"button",15),t.NdJ("click",function(){const r=t.CHM(o).$implicit;return t.oxw(3).download(r)}),t.TgZ(18,"mat-icon"),t._uU(19,"cloud_download"),t.qZA()()()()()}if(2&i){const o=e.$implicit,a=e.index,n=t.oxw(3);t.xp6(5),t.Q6J("ngStyle",o.isDefault&&t.DdM(5,_t)),t.xp6(2),t.hij(" Document: ",a+1," "),t.xp6(3),t.Q6J("checked",n.selection.isSelected(o)),t.xp6(1),t.Q6J("src",o.img,t.LSH),t.xp6(3),t.Oqu(o.remark)}}function yt(i,e){if(1&i&&(t.TgZ(0,"mat-grid-list",10),t.YNc(1,ft,20,6,"mat-grid-tile",11),t.qZA()),2&i){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.dataSource.data)}}function vt(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"div")(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),t.NdJ("click",function(){return t.CHM(o),t.oxw().onUpload()}),t.TgZ(5,"mat-icon",6),t._uU(6,"cloud_upload"),t.qZA()()(),t.TgZ(7,"div",4)(8,"button",7),t.NdJ("click",function(n){return t.CHM(o),t.oxw().deleteMutiple(n)}),t.TgZ(9,"mat-icon",6),t._uU(10,"delete"),t.qZA()()()()(),t._UZ(11,"app-empty-layout",8),t.YNc(12,yt,2,1,"mat-grid-list",9),t.qZA()}if(2&i){const o=t.oxw();t.xp6(8),t.Q6J("disabled",o.selection.selected.length<=0),t.xp6(1),t.ekj("disabled",o.selection.selected.length<=0),t.xp6(2),t.Q6J("lastRowIndex",o.lastRowIndex)("title","Oops!")("message","No record found"),t.xp6(1),t.Q6J("ngIf",o.lastRowIndex>0)}}function xt(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).onUploadFile()}),t._uU(1,"Upload"),t.qZA()}}function Ct(i,e){1&i&&t._UZ(0,"th",47)}function bt(i,e){if(1&i&&(t.TgZ(0,"td",48)(1,"div"),t._uU(2),t.qZA()()),2&i){const o=e.index;t.xp6(2),t.hij(" ",o+1," ")}}function St(i,e){1&i&&t._UZ(0,"th",47)}function Zt(i,e){1&i&&(t.TgZ(0,"td",48)(1,"div")(2,"mat-icon",49),t._uU(3,"attach_file"),t.qZA()()())}function Tt(i,e){1&i&&(t.TgZ(0,"th",50),t._uU(1,"Remark"),t.qZA())}function At(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"td",48)(1,"div",51)(2,"mat-form-field")(3,"input",52),t.NdJ("ngModelChange",function(n){return t.CHM(o).$implicit.remark=n}),t.qZA()()()()}if(2&i){const o=e.$implicit;t.xp6(3),t.Q6J("ngModel",o.remark)}}function It(i,e){1&i&&(t.TgZ(0,"th",47),t._uU(1,"File Name"),t.qZA())}function Rt(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"td",48)(1,"div",51)(2,"mat-form-field")(3,"input",53),t.NdJ("ngModelChange",function(n){return t.CHM(o).$implicit.fileName=n}),t.qZA()()()()}if(2&i){const o=e.$implicit;t.xp6(3),t.Q6J("ngModel",o.fileName)}}function wt(i,e){1&i&&(t.TgZ(0,"th",47),t._uU(1,"Remove"),t.qZA())}function Mt(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"td",48)(1,"button",15),t.NdJ("click",function(){const r=t.CHM(o).index;return t.oxw(3).delete(r)}),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA()()()}}function Ut(i,e){1&i&&t._UZ(0,"tr",54)}function Nt(i,e){1&i&&t._UZ(0,"tr",55)}function Ot(i,e){if(1&i&&(t.TgZ(0,"div",35)(1,"table",36),t.ynx(2,37),t.YNc(3,Ct,1,0,"th",38),t.YNc(4,bt,3,1,"td",39),t.BQk(),t.ynx(5,40),t.YNc(6,St,1,0,"th",38),t.YNc(7,Zt,4,0,"td",39),t.BQk(),t.ynx(8,41),t.YNc(9,Tt,2,0,"th",42),t.YNc(10,At,4,1,"td",39),t.BQk(),t.ynx(11,43),t.YNc(12,It,2,0,"th",38),t.YNc(13,Rt,4,1,"td",39),t.BQk(),t.ynx(14,44),t.YNc(15,wt,2,0,"th",38),t.YNc(16,Mt,4,0,"td",39),t.BQk(),t.YNc(17,Ut,1,0,"tr",45),t.YNc(18,Nt,1,0,"tr",46),t.qZA()()),2&i){const o=t.oxw(2);t.xp6(1),t.Q6J("dataSource",o.dataSourceUpload),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)}}function qt(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"div",2)(1,"div",21)(2,"div",4)(3,"button",22),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return n.isUpload=!n.isUpload}),t.TgZ(4,"mat-icon",6),t._uU(5,"arrow_back"),t.qZA()(),t.TgZ(6,"button",23),t.NdJ("click",function(){return t.CHM(o),t.oxw().clear()}),t.TgZ(7,"mat-icon",6),t._uU(8,"clear"),t.qZA()()()()(),t.TgZ(9,"div",24)(10,"div",25)(11,"a")(12,"img",26),t.NdJ("click",function(){return t.CHM(o),t.oxw().onFileChange()}),t.qZA()(),t._UZ(13,"input",27,28),t.TgZ(15,"label",29),t._uU(16,"Choose multiple images"),t.qZA(),t.TgZ(17,"h3"),t._uU(18,"select your PNG/JPEG files here"),t.qZA(),t.TgZ(19,"span",30),t._uU(20,"Maximum file size for upload is 100 kb"),t.qZA(),t.TgZ(21,"span",30),t._uU(22,"Each time limit for 5 files"),t.qZA(),t.TgZ(23,"div",31),t.YNc(24,xt,2,0,"button",32),t.qZA()(),t.YNc(25,Ot,19,3,"div",33),t.qZA()}if(2&i){const o=t.oxw();t.xp6(13),t.Q6J("accept",o.acceptImage),t.xp6(11),t.Q6J("ngIf",o.dataSourceUpload.data.length>0),t.xp6(1),t.Q6J("ngIf",o.dataSourceUpload.data.length>0)}}let C=class{constructor(e,o,a,n,r,s,d,h){this.actionService=e,this.sessionService=o,this.httpService=a,this.matDialog=n,this.activatedRoute=r,this.fileService=s,this.toastrService=d,this.appConfigService=h,this.isUpload=!1,this.title="Room Gallery",this.id="",this.lastRowIndex=-1,this.displayedColumns=["lineNumber","attachment","remark","fileName","actions"],this.acceptImage=w.Xp,this.lastDefaultIndex=-1}ngOnInit(){this.initializeToolbar(),this.selection=new ut.Ov(!0,[]),this.dataSource=new u.by,this.inquiry=new U.U,this.inquiry.sortExpression="CreateOn",this.inquiry.pageSize=999,this.activatedRoute.queryParams.pipe((0,p.t)(this)).subscribe(e=>{this.id=e.id||"",0!==this.id.length&&this.id!==g.i.empty&&this.executeSearch()}),this.actionService.toggleRefreshEvent.pipe((0,p.t)(this),(0,dt.T)(1)).subscribe(e=>this.executeSearch())}executeSearch(){if(0===this.id.length||this.id===g.i.empty)return;let e=JSON.stringify(this.inquiry),o=JSON.parse(e);o.roomId=this.id,this.httpService.HttpPost(this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"room/roomGalleryInquiry",JSON.stringify(o)).subscribe(n=>{this.inquirySuccess(n)},n=>this.showFailed(n))}ngOnDestroy(){}initializeToolbar(){const e=new N.P;e.showNavigatebefore=!0,e.showReferesh=!0,e.title=this.title,e.navigatebeforeUrl="/dormitorymanagement/room/inquiry",this.actionService.setToolbarSettings(e)}update(e){alert("documents from service sub")}onUpload(){this.isUpload=!this.isUpload,this.dataSourceUpload=new u.by}onFileChange(){if(this.dataSourceUpload.data.length>5)return;const e=this.fileUpload.nativeElement;let o=[];e.onchange=()=>{for(let a=0;a<e.files.length&&!(a>4);a++){const n=e.files[a];if(!n.type.match(w.Rs)){o.push(n.name.concat(" ","not image file."));continue}if(n.size/1024>w.Lj){this.toastrService.ShowErrorMessage(`Please choose file not excess ${w.Lj} KB`),o.push(n.name.concat(" ",`file size excess ${w.Lj} kb`));continue}let s=new K;s.file=n,s.fileName=n.name,this.dataSourceUpload.data.push(s)}o.length>0&&this.toastrService.ShowErrorMessage("",o),this.dataSourceUpload._updateChangeSubscription()},e.click()}deleteMutiple(e){if(this.selection.selected.length<=0)return;const a=new q.vA;a.autoFocus=!0,a.data=new tt.B("Delete record?","Are you wants to delete selected record ","OK","Cancel",!1,null),this.matDialog.open(P.z,a).afterClosed().subscribe(r=>{var s;if(!0===r){let d=this.selection.selected.map(f=>f.id),h=null===(s=this.selection.selected.find(f=>!0===f.isDefault))||void 0===s?void 0:s.id;this.httpService.HttpPost(this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"room/DeleteRoomGallery",d).subscribe(f=>{this.deleteSuccess(h)},f=>this.showFailed(f))}})}deleteSuccess(e){if(this.executeSearch(),this.selection.clear(),!e)return;let o={status:"toggleDefaultImage",id:this.id,avatar:this.appConfigService.getValue().empty};this.actionService.toggleDataEvent.emit(o)}showFailed(e){this.lastRowIndex=0}clear(){this.dataSourceUpload=new u.by}back(){}delete(e){this.dataSourceUpload.data.splice(e,1)}onUploadFile(){let e=this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"room/UploadRoomGallery";const o=new FormData;let a=new Array;this.dataSourceUpload.data.forEach(n=>{let r=new K;r.fileName=n.fileName,r.remark=n.remark,r.roomId=this.id,o.append("file",n.file),a.push(r)}),o.append("model",JSON.stringify(a)),this.httpService.HttpFormData(e,o).subscribe(n=>{this.uploadSuccess(n)},n=>this.showFailed(n))}uploadSuccess(e){this.executeSearch(),this.isUpload=!this.isUpload}inquirySuccess(e){e.entity.map(o=>{o.img=this.fileService.loadImage(o.base64String)}),this.dataSource.data=e.entity,this.dataSource._updateChangeSubscription(),this.lastRowIndex=e.entity.length,this.lastDefaultIndex=e.entity.findIndex(o=>!0===o.isDefault)}download(e){this.fileService.convertToBlob(e.base64String,e.fileName,et.T[et.T.base64]).then(o=>{this.fileService.downloadFile(o,e.fileName)})}toggleAsDefault(e,o){this.lastDefaultIndex!==o&&this.httpService.HttpPost(this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"room/setDefaultRoomGallery",JSON.stringify({roomId:e.roomId,id:e.id})).subscribe(r=>{this.setDefaultRoomGallerySuccess(r,e,o)},r=>this.setDefaultRoomGalleryFailed(r))}setDefaultRoomGallerySuccess(e,o,a){a!==this.lastDefaultIndex&&(this.dataSource.data[a].isDefault=!0,-1!==this.lastDefaultIndex&&(this.dataSource.data[this.lastDefaultIndex].isDefault=!1),this.dataSource._updateChangeSubscription(),this.lastDefaultIndex=a);let n={status:"toggleDefaultImage",id:this.id,avatar:this.dataSource.data.at(a).img};this.actionService.toggleDataEvent.emit(n)}setDefaultRoomGalleryFailed(e){}};C.\u0275fac=function(e){return new(e||C)(t.Y36(c.cw),t.Y36(c.mj),t.Y36(c.OE),t.Y36(q.uw),t.Y36(y.gz),t.Y36(c.Ip),t.Y36(c._W),t.Y36(O._))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-room-gallery"]],viewQuery:function(e,o){if(1&e&&t.Gf(ht,5),2&e){let a;t.iGM(a=t.CRH())&&(o.fileUpload=a.first)}},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["upload",""],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","space-between center"],["fxLayout","row",1,"matero-group-button"],["fxLayout","row","fxLayoutAlign","center center"],["mat-icon-button","","matTooltip","upload",3,"click"],["aria-label","label"],["mat-icon-button","",3,"disabled","click"],[3,"lastRowIndex","title","message"],["cols","4","rowHeight","1:1",4,"ngIf"],["cols","4","rowHeight","1:1"],["style","background-color:rgb(189, 184, 184) ;",4,"ngFor","ngForOf"],[2,"background-color","rgb(189, 184, 184)"],["matLine","",1,"f-s-12","f-w-200"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-icon-button","",3,"click"],["aria-label","label",3,"ngStyle"],["fxFlex",""],[3,"checked","click","change"],[1,"w-full","h-full","object-cover","cursor-pointer",3,"src"],[1,"f-s-12","f-w-200"],[1,"matero-group-button"],["mat-icon-button","","matTooltip","back to list",3,"click"],["mat-icon-button","","matTooltip","remove",3,"click"],[2,"padding","16px"],["fxLayout","column","fxLayoutAlign","space-around center",1,"dropzone"],["src","assets/images/default/upload.png","alt","upload","width","60",3,"click"],["type","file","multiple","",1,"files",2,"display","none",3,"accept"],["fileUpload",""],["for","images"],["matLine",""],[1,"m-t-16","m-b-16"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["class","matero-table-container",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"matero-table-container"],["mat-table","",2,"border","0.5px solid #e0e0e0",3,"dataSource"],["matColumnDef","lineNumber"],["mat-header-cell","","style","width: 5%;",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","attachment"],["matColumnDef","remark"],["mat-header-cell","","style","width: 50%;",4,"matHeaderCellDef"],["matColumnDef","fileName"],["matColumnDef","actions","stickyEnd",""],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",2,"width","5%"],["mat-cell",""],["color","primary"],["mat-header-cell","",2,"width","50%"],[1,"table-mat-form-field-daterange"],["matInput","","placeholder","remark",3,"ngModel","ngModelChange"],["matInput","","readonly","",3,"ngModel","ngModelChange"],["mat-header-row",""],["mat-row",""]],template:function(e,o){if(1&e&&(t.YNc(0,vt,13,7,"div",0),t.YNc(1,qt,26,3,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",!o.isUpload)("ngIfElse",a)}},directives:[_.O5,v.xw,v.Wh,Y.lW,pt.gM,F.Hw,D.B,M.Il,_.sg,M.DX,M.$H,M.jo,L.X2,_.PC,Q.Zl,v.yH,gt.oG,M.Bv,u.BZ,u.w1,u.fO,u.ge,u.Dz,u.ev,Z.KE,E.Nt,m.Fj,m.JJ,m.On,u.as,u.XQ,u.nj,u.Gk],styles:[""]}),C=(0,I.gn)([(0,p.c)()],C);var J=l(520),Ft=l(2802),Jt=l(2354);function kt(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"app-float-button",12),t.NdJ("optionsEvent",function(n){return t.CHM(o),t.oxw().optionsEvent(n)}),t.qZA()}}let T=class{constructor(e,o,a,n,r,s,d){this.actionService=e,this.sessionService=o,this.httpService=a,this.activatedRoute=n,this.fileService=r,this.router=s,this.appConfigService=d,this.id="",this.guidEmpty=g.i.empty,this.fullAddress="",this.isMaintanance=!0,this.isNew=!1,this.isToggleNewButton=!0}ngOnInit(){this.standardAvatar=this.appConfigService.getValue().empty,this.activatedRoute.queryParams.pipe((0,p.t)(this)).subscribe(r=>{if(this.id=r.id||"",0===this.id.length||this.id===g.i.empty)return this.isMaintanance=this.isNew=!0,void this.router.navigate(["/dormitorymanagement/room/maintenance"])});let n=this.router.parseUrl(this.router.url).root.children[y.eC].segments.join("/");(-1!==n.indexOf("dormitorymanagement/room/item")||-1!==n.indexOf("dormitorymanagement/room/gallery")||-1!==n.indexOf("dormitorymanagement/room/occupants"))&&this.id.length>0&&this.id!==g.i.empty&&(this.isMaintanance=this.isNew=!1,this.get()),-1!==n.indexOf("dormitorymanagement/room/gallery")&&(this.isToggleNewButton=!1)}ngAfterViewInit(){this.actionService.toggleDataEvent.pipe((0,p.t)(this)).subscribe(e=>{this.update(e)}),this.actionService.toggleImageEvent.pipe((0,p.t)(this)).subscribe(e=>{this.avatar=this.fileService.loadImage(e.base64String)})}ngOnDestroy(){}optionsEvent(e){}update(e){this.isNew=!1;let o=e.status;if("toggleDefaultImage"===o&&(this.id=e.id,this.avatar=e.avatar),"new"===o)return this.avatar=this.standardAvatar,this.fullAddress="",this.isNew=!0,void(this.id="");this.id=e.id,e.fullAddress!==this.fullAddress&&(this.fullAddress=e.fullAddress),"get"===o&&e.avatar!==this.avatar&&(this.avatar=e.avatar)}get(){const e=(new J.LE).set("id",this.id);this.httpService.HttpGetWithParams(this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"room/get",e).subscribe(a=>{this.getSuccess(a)},a=>this.getFailed(a))}getSuccess(e){this.fullAddress!==e.entity.fullAddress&&(this.fullAddress=e.entity.fullAddress),this.id=e.entity.id,this.avatar=e.entity.base64String?this.fileService.loadImage(e.entity.base64String):this.standardAvatar}getFailed(e){}maintenance(){this.isMaintanance=this.isToggleNewButton=!0,this.router.navigate(["/dormitorymanagement/room/maintenance"],{queryParams:{id:this.id}})}setting(){this.isToggleNewButton=!0,!this.isNew&&(this.isMaintanance=!1,this.router.navigate(["/dormitorymanagement/room/items"],{queryParams:{id:this.id}}))}gallery(){this.isNew||(this.isMaintanance=this.isToggleNewButton=!1,this.router.navigate(["/dormitorymanagement/room/gallery"],{queryParams:{id:this.id}}))}occupants(){this.isNew||(this.isMaintanance=this.isToggleNewButton=!1,this.router.navigate(["/dormitorymanagement/room/occupants"],{queryParams:{id:this.id}}))}};T.\u0275fac=function(e){return new(e||T)(t.Y36(c.cw),t.Y36(c.mj),t.Y36(c.OE),t.Y36(y.gz),t.Y36(c.Ip),t.Y36(y.F0),t.Y36(O._))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-room-layout"]],decls:37,vars:3,consts:[["fxLayout","row wrap",2,"height","calc(100% - 50px)"],["fxFlex","20","fxFlex.xs","100","fxFlex.sm","100","fxFlex.md","20",2,"background-color","#e8e8e8"],["fxLayout","column","fxLayoutAlign","center center","ngClass.xs","min-h-80","ngClass","min-h-150"],["alt","",3,"src"],["fxLayout","column","fxLayoutAlign","center center",1,"min-h-100"],[1,"f-s-16","f-w-600","text-center"],[2,"margin-top","10px"],["mat-list-item","",2,"padding","0 20px",3,"click"],[1,"icon-18","m-r-8"],[1,"f-s-14","f-w-100"],["fxFlex","80","fxFlex.xs","100","fxFlex.sm","100","fxFlex.md","80"],[3,"optionsEvent",4,"ngIf"],[3,"optionsEvent"]],template:function(e,o){1&e&&(t._UZ(0,"app-page-header"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2),t._UZ(4,"img",3),t.qZA(),t.TgZ(5,"div",4)(6,"span",5),t._uU(7),t.qZA()(),t.TgZ(8,"mat-nav-list",6),t._UZ(9,"mat-divider"),t.TgZ(10,"a",7),t.NdJ("click",function(){return o.maintenance()}),t.TgZ(11,"mat-icon",8),t._uU(12,"account_circle"),t.qZA(),t.TgZ(13,"p",9),t._uU(14,"Maintenance"),t.qZA()(),t._UZ(15,"mat-divider"),t.TgZ(16,"a",7),t.NdJ("click",function(){return o.setting()}),t.TgZ(17,"mat-icon",8),t._uU(18,"settings"),t.qZA(),t.TgZ(19,"p",9),t._uU(20,"Setting"),t.qZA()(),t._UZ(21,"mat-divider"),t.TgZ(22,"a",7),t.NdJ("click",function(){return o.gallery()}),t.TgZ(23,"mat-icon",8),t._uU(24,"collections"),t.qZA(),t.TgZ(25,"p",9),t._uU(26,"Gallery"),t.qZA()(),t._UZ(27,"mat-divider"),t.TgZ(28,"a",7),t.NdJ("click",function(){return o.occupants()}),t.TgZ(29,"mat-icon",8),t._uU(30,"person_pin_circle"),t.qZA(),t.TgZ(31,"p",9),t._uU(32,"Occupants"),t.qZA()(),t._UZ(33,"mat-divider"),t.qZA()(),t.TgZ(34,"div",10),t._UZ(35,"router-outlet"),t.qZA()(),t.YNc(36,kt,1,0,"app-float-button",11)),2&e&&(t.xp6(4),t.Q6J("src",o.avatar,t.LSH),t.xp6(3),t.Oqu(o.fullAddress),t.xp6(29),t.Q6J("ngIf",o.isToggleNewButton))},directives:[Ft.q,v.xw,v.yH,v.Wh,Q.oO,_.mk,R.Hk,X.d,R.Tg,F.Hw,y.lC,_.O5,Jt.u],styles:["img[_ngcontent-%COMP%]{height:120px;width:120px;-o-object-fit:cover;object-fit:cover;border-radius:50%}"]}),T=(0,I.gn)([(0,p.c)()],T);var Lt=l(8372),Dt=l(5518);class G{constructor(){this.id=g.i.empty,this.roomNumber="",this.block="",this.level="",this.road="",this.postalCode="",this.region="",this.city="",this.countryId=null,this.country="",this.fullAddress="",this.categoryId=null,this.category="",this.locationId=null,this.location="",this.bedCount=0,this.price=0,this.photo=null,this.totalActiveOccupant=0,this.roomItems=new Array}}var ot=l(1079),Pt=l(9285);const Yt=["country"];function Qt(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(n){t.CHM(o);const r=t.oxw(),s=t.MAs(34);return r.clearInput(n,"country",s)}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function Et(i,e){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const o=e.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",t.lcZ(2,2,o.description)," ")}}function Gt(i,e){if(1&i&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&i){const o=e.$implicit;t.xp6(1),t.hij(" ",o," ")}}function Bt(i,e){if(1&i&&(t.TgZ(0,"mat-error"),t.YNc(1,Gt,3,1,"ng-container",29),t.ALo(2,"matError"),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,o.form.get("country").errors,"country"))}}function zt(i,e){if(1&i&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&i){const o=e.$implicit;t.xp6(1),t.hij(" ",o," ")}}function Ht(i,e){if(1&i&&(t.TgZ(0,"mat-error"),t.YNc(1,zt,3,1,"ng-container",29),t.ALo(2,"matError"),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,o.form.get("fullAddress").errors,"fullAddress"))}}function jt(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(n){t.CHM(o);const r=t.oxw(),s=t.MAs(54);return r.clearInput(n,"category",s)}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function $t(i,e){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const o=e.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",t.lcZ(2,2,o.description)," ")}}function Wt(i,e){if(1&i&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&i){const o=e.$implicit;t.xp6(1),t.hij(" ",o," ")}}function Vt(i,e){if(1&i&&(t.TgZ(0,"mat-error"),t.YNc(1,Wt,3,1,"ng-container",29),t.ALo(2,"matError"),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,o.form.get("category").errors,"category"))}}function Xt(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(n){t.CHM(o);const r=t.oxw(),s=t.MAs(69);return r.clearInput(n,"location",s)}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function Kt(i,e){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const o=e.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",t.lcZ(2,2,o.description)," ")}}function te(i,e){if(1&i&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&i){const o=e.$implicit;t.xp6(1),t.hij(" ",o," ")}}function ee(i,e){if(1&i&&(t.TgZ(0,"mat-error"),t.YNc(1,te,3,1,"ng-container",29),t.ALo(2,"matError"),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,o.form.get("location").errors,"location"))}}let b=class{constructor(e,o,a,n,r,s,d,h,A,f,j){this.fb=e,this.httpService=o,this.sessionService=a,this.router=n,this.activatedRoute=r,this.toastrService=s,this.actionService=d,this.fileService=h,this.lookupService=A,this.reactiveformService=f,this.appConfigService=j,this.title="Room Maintenance",this.categoryAutoComplete$=null,this.countryAutoComplete$=null,this.locationAutoComplete$=null,this.selectedCountry=null,this.selectedCategory=null,this.selectedLocation=null,this.id=""}ngOnInit(){this.initialize(),this.initializeForm(new G),this.initializeToolbar(),this.activatedRoute.queryParams.pipe((0,p.t)(this)).subscribe(e=>{this.id=e.id||"",this.id.length>0&&this.id!==g.i.empty&&this.get(this.id)}),this.updateEventSubscription=this.actionService.toggleUpdateEvent.pipe((0,p.t)(this)).subscribe(e=>this.update(e)),this.createNewEventSubscription=this.actionService.toggleCreateEvent.pipe((0,p.t)(this)).subscribe(e=>this.create(e)),this.getEventSubscription=this.actionService.toggleGetEvent.pipe((0,p.t)(this)).subscribe(e=>{this.get(e)}),this.form.valueChanges.pipe((0,Lt.b)(500),(0,Dt.Lr)(),(0,p.t)(this)).subscribe(e=>{this.actionService.formDirty=!(!this.form.valid||!this.form.touched&&!this.form.dirty)})}ngAfterViewInit(){this.initReferences()}ngOnDestroy(){}initialize(){this.createMode=!1,this.countryArrow=this.categoryArrow=this.locationArrow="arrow_drop_down",this.countryObs=this.categoryObs=this.locationObs=!1}initializeForm(e){this.form=this.fb.group({id:[e.id],roomNumber:[e.roomNumber],block:[e.block],level:[e.level],road:[e.road],postalCode:[e.postalCode],region:[e.region],city:[e.city],countryId:[e.countryId],country:[e.country,m.kI.required],fullAddress:[{value:e.fullAddress,disabled:!0}],categoryId:[e.categoryId],category:[e.category,m.kI.required],locationId:[e.locationId],location:[e.location,m.kI.required],bedCount:[{value:e.bedCount,disabled:!0}],price:[{value:e.price,disabled:!0}]})}initializeToolbar(){const e=new N.P;e.showNavigatebefore=!0,e.showSave=!0,e.title=this.title,e.navigatebeforeUrl="/dormitorymanagement/room/inquiry",this.actionService.setToolbarSettings(e)}get(e){const o=(new J.LE).set("id",e);this.httpService.HttpGetWithParams(this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"room/get",o).subscribe(n=>{this.getSuccess(n)},n=>this.getFailed(n))}getSuccess(e){this.id=e.entity.id,this.createMode=!1,this.reactiveformService.setReactiveFormObject(this.form,e.entity),this.patchAutoComplete(e.entity);let o={status:"get",id:e.entity.id,fullAddress:e.entity.fullAddress,avatar:e.entity.base64String?this.fileService.loadImage(e.entity.base64String):this.appConfigService.getValue().empty};this.actionService.toggleDataEvent.emit(o)}getFailed(e){}create(e){this.id="",this.reactiveformService.setValueReactiveFormObject(this.form,new G),this.patchAutoComplete(null),this.countryObs=this.categoryObs=this.locationObs=!0,this.actionService.toggleDataEvent.emit({status:"new"})}update(e){let o=new G;o=this.reactiveformService.getReactiveFormObject(this.form),o.id=this.id;let a="";a=this.sessionService.urlSetting.dormitoryManagementWebApiUrl+(o.id===g.i.empty||""===o.id||null==o.id?"room/create":"room/update"),o.category=o.country=o.location=null,this.httpService.HttpPost(a,o).subscribe(n=>{this.updateSuccess(n)},n=>this.updateFailed(n))}updateSuccess(e){this.id=e.entity.id,this.createMode=!1,this.toastrService.ShowSuccessMessage(e.returnMessage[0]);let o={status:"update",id:e.entity.id,fullAddress:this.form.get("fullAddress").value,avatar:null};this.actionService.toggleDataEvent.emit(o)}updateFailed(e){}optionSelected(e,o,a,n,r){const s=e.option.value?e.option.value:null;"object"==typeof s&&(this[o]=s,n.controls[a].patchValue(s[r]))}validateSelected(e,o,a,n,r){setTimeout(()=>{this[e]&&this[e][r]===n.controls[a].value?n.controls[o].patchValue(this[e].id):(n.controls[a].patchValue(""),n.controls[o].patchValue(""),this[e]="")},300)}clearInput(e,o,a){e.stopPropagation(),this.form.get(o).patchValue(""),a.openPanel()}openOrClosePanel(e,o,a){e.stopPropagation(),o.panelOpen?o.closePanel():(this.obs(a),o.openPanel())}initReferences(){this.categoryAutoComplete$=this.lookupService.autoCompleteSkipOneObs(this.form,"category",this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"category/GetCategories","description","categoryObs"),this.locationAutoComplete$=this.lookupService.autoCompleteSkipOneObs(this.form,"location",this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"location/GetLocations","description","locationObs"),this.countryAutoComplete$=this.lookupService.autoCompleteSkipOneObs(this.form,"country",this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"references/GetCoutries","description","countryObs")}patchAutoComplete(e){if(null===e)return this.selectedCountry=null,this.selectedCategory=null,void(this.selectedLocation=null);this.selectedCountry={id:e.countryId,description:e.country},this.selectedCategory={id:e.categoryId,description:e.category},this.selectedLocation={id:e.locationId,description:e.location}}obs(e){(new U.U).sortExpression="description",this[e]||"categoryObs"!==e?this[e]||"locationObs"!==e?!this[e]&&"countryObs"===e&&(this.countryAutoComplete$=this.lookupService.autoCompleteObs(this.form,"country",this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"references/GetCoutries","description","countryObs")):this.locationAutoComplete$=this.lookupService.autoCompleteObs(this.form,"location",this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"location/GetLocations","description","locationObs"):this.categoryAutoComplete$=this.lookupService.autoCompleteObs(this.form,"category",this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"category/GetCategories","description","categoryObs"),this[e]=!0}};b.\u0275fac=function(e){return new(e||b)(t.Y36(m.qu),t.Y36(c.OE),t.Y36(c.mj),t.Y36(y.F0),t.Y36(y.gz),t.Y36(c._W),t.Y36(c.cw),t.Y36(c.Ip),t.Y36(c.WO),t.Y36(c.xd),t.Y36(O._))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-room-maintenance"]],viewQuery:function(e,o){if(1&e&&t.Gf(Yt,5),2&e){let a;t.iGM(a=t.CRH())&&(o.countryElement=a.first)}},decls:80,vars:23,consts:[["autocomplete","off",2,"overflow","hidden",3,"formGroup"],["fxLayout","row wrap","fxLayoutGap","5px 0px grid",1,"matero-mat-form-field"],["fxFlex","33.33","fxFlex.sm","50","fxFlex.md","50","fxFlex.xs","100"],["matInput","","formControlName","roomNumber"],["matInput","","formControlName","block"],["matInput","","formControlName","level"],["fxFlex","50","fxFlex.sm","50","fxFlex.md","50","fxFlex.xs","100"],["matInput","","formControlName","road"],["matInput","","formControlName","postalCode"],["matInput","","formControlName","region"],["matInput","","formControlName","city"],["matInput","","formControlName","country","type","text",3,"matAutocomplete","blur"],["countryTrigger","matAutocompleteTrigger"],["matSuffix","",2,"display","flex"],["mat-icon-button","","type","button",3,"click",4,"ngIf"],["mat-icon-button","","type","button",3,"click"],[3,"closed","opened","optionSelected"],["countryId","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","50","fxFlex.md","100"],["matInput","","formControlName","fullAddress"],["matInput","","type","text","formControlName","category",3,"matAutocomplete","blur"],["categoryTrigger","matAutocompleteTrigger"],["categoryId","matAutocomplete"],["matInput","","formControlName","location","type","text","placeholder","Location",3,"matAutocomplete","blur"],["locationTrigger","matAutocompleteTrigger"],["locationId","matAutocomplete"],[3,"value"],[4,"ngFor","ngForOf"]],template:function(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"form",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),t._uU(4,"Room Number"),t.qZA(),t._UZ(5,"input",3),t.qZA(),t.TgZ(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Block"),t.qZA(),t._UZ(9,"input",4),t.qZA(),t.TgZ(10,"mat-form-field",2)(11,"mat-label"),t._uU(12,"Level"),t.qZA(),t._UZ(13,"input",5),t.qZA(),t.TgZ(14,"mat-form-field",6)(15,"mat-label"),t._uU(16,"Road"),t.qZA(),t._UZ(17,"input",7),t.qZA(),t.TgZ(18,"mat-form-field",6)(19,"mat-label"),t._uU(20,"Post Code"),t.qZA(),t._UZ(21,"input",8),t.qZA(),t.TgZ(22,"mat-form-field",6)(23,"mat-label"),t._uU(24,"Region"),t.qZA(),t._UZ(25,"input",9),t.qZA(),t.TgZ(26,"mat-form-field",6)(27,"mat-label"),t._uU(28,"City"),t.qZA(),t._UZ(29,"input",10),t.qZA(),t.TgZ(30,"mat-form-field",6)(31,"mat-label"),t._uU(32,"Country"),t.qZA(),t.TgZ(33,"input",11,12),t.NdJ("blur",function(){return o.validateSelected("selectedCountry","countryId","country",o.form,"description")}),t.qZA(),t.TgZ(35,"div",13),t.YNc(36,Qt,3,0,"button",14),t.TgZ(37,"button",15),t.NdJ("click",function(r){t.CHM(a);const s=t.MAs(34);return o.openOrClosePanel(r,s,"countryObs")}),t.TgZ(38,"mat-icon"),t._uU(39),t.qZA()()(),t.TgZ(40,"mat-autocomplete",16,17),t.NdJ("closed",function(){return o.countryArrow="arrow_drop_down"})("opened",function(){return o.countryArrow="arrow_drop_up"})("optionSelected",function(r){return o.optionSelected(r,"selectedCountry","country",o.form,"description")}),t.YNc(42,Et,3,4,"mat-option",18),t.ALo(43,"async"),t.qZA(),t.YNc(44,Bt,3,4,"mat-error",19),t.qZA(),t.TgZ(45,"mat-form-field",20)(46,"mat-label"),t._uU(47,"Address"),t.qZA(),t._UZ(48,"textarea",21),t.YNc(49,Ht,3,4,"mat-error",19),t.qZA(),t.TgZ(50,"mat-form-field",6)(51,"mat-label"),t._uU(52,"Category"),t.qZA(),t.TgZ(53,"input",22,23),t.NdJ("blur",function(){return o.validateSelected("selectedCategory","categoryId","category",o.form,"description")}),t.qZA(),t.TgZ(55,"div",13),t.YNc(56,jt,3,0,"button",14),t.TgZ(57,"button",15),t.NdJ("click",function(r){t.CHM(a);const s=t.MAs(54);return o.openOrClosePanel(r,s,"categoryObs")}),t.TgZ(58,"mat-icon"),t._uU(59),t.qZA()()(),t.TgZ(60,"mat-autocomplete",16,24),t.NdJ("closed",function(){return o.categoryArrow="arrow_drop_down"})("opened",function(){return o.categoryArrow="arrow_drop_up"})("optionSelected",function(r){return o.optionSelected(r,"selectedCategory","category",o.form,"description")}),t.YNc(62,$t,3,4,"mat-option",18),t.ALo(63,"async"),t.qZA(),t.YNc(64,Vt,3,4,"mat-error",19),t.qZA(),t.TgZ(65,"mat-form-field",6)(66,"mat-label"),t._uU(67,"Location"),t.qZA(),t.TgZ(68,"input",25,26),t.NdJ("blur",function(){return o.validateSelected("selectedLocation","locationId","location",o.form,"description")}),t.qZA(),t.TgZ(70,"div",13),t.YNc(71,Xt,3,0,"button",14),t.TgZ(72,"button",15),t.NdJ("click",function(r){t.CHM(a);const s=t.MAs(69);return o.openOrClosePanel(r,s,"locationObs")}),t.TgZ(73,"mat-icon"),t._uU(74),t.qZA()()(),t.TgZ(75,"mat-autocomplete",16,27),t.NdJ("closed",function(){return o.locationArrow="arrow_drop_down"})("opened",function(){return o.locationArrow="arrow_drop_up"})("optionSelected",function(r){return o.optionSelected(r,"selectedLocation","location",o.form,"description")}),t.YNc(77,Kt,3,4,"mat-option",18),t.ALo(78,"async"),t.qZA(),t.YNc(79,ee,3,4,"mat-error",19),t.qZA()()()}if(2&e){const a=t.MAs(41),n=t.MAs(61),r=t.MAs(76);let s,d,h;t.Q6J("formGroup",o.form),t.xp6(33),t.Q6J("matAutocomplete",a),t.xp6(3),t.Q6J("ngIf",null!==(null==(s=o.form.get("country"))?null:s.value)&&""!==(null==(s=o.form.get("country"))?null:s.value)),t.xp6(3),t.Oqu(o.countryArrow),t.xp6(3),t.Q6J("ngForOf",t.lcZ(43,17,o.countryAutoComplete$)),t.xp6(2),t.Q6J("ngIf",o.form.get("country").invalid&&(o.form.get("country").dirty||o.form.get("country").touched)),t.xp6(5),t.Q6J("ngIf",o.form.get("fullAddress").invalid&&(o.form.get("fullAddress").dirty||o.form.get("fullAddress").touched)),t.xp6(4),t.Q6J("matAutocomplete",n),t.xp6(3),t.Q6J("ngIf",null!==(null==(d=o.form.get("category"))?null:d.value)&&""!==(null==(d=o.form.get("category"))?null:d.value)),t.xp6(3),t.Oqu(o.categoryArrow),t.xp6(3),t.Q6J("ngForOf",t.lcZ(63,19,o.categoryAutoComplete$)),t.xp6(2),t.Q6J("ngIf",o.form.get("category").invalid&&(o.form.get("category").dirty||o.form.get("category").touched)),t.xp6(4),t.Q6J("matAutocomplete",r),t.xp6(3),t.Q6J("ngIf",null!==(null==(h=o.form.get("location"))?null:h.value)&&""!==(null==(h=o.form.get("location"))?null:h.value)),t.xp6(3),t.Oqu(o.locationArrow),t.xp6(3),t.Q6J("ngForOf",t.lcZ(78,21,o.locationAutoComplete$)),t.xp6(2),t.Q6J("ngIf",o.form.get("location").invalid&&(o.form.get("location").dirty||o.form.get("location").touched))}},directives:[m._Y,m.JL,m.sg,v.xw,v.SQ,Z.KE,v.yH,Z.hX,E.Nt,m.Fj,m.JJ,m.u,ot.ZL,Z.R9,_.O5,Y.lW,F.Hw,ot.XC,_.sg,L.ey,Z.TO],pipes:[_.Ov,_.rS,Pt.h],styles:["form[_ngcontent-%COMP%]{margin-top:16px}.mat-table[_ngcontent-%COMP%]{width:100%;overflow:hidden}mat-cell[_ngcontent-%COMP%], mat-footer-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{flex:none;justify-content:center}.mat-table[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]:first-child{padding-left:0}.mat-table[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]:last-child{padding-right:0}.mat-table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]:first-child{padding-left:0}.mat-table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]:last-child{padding-right:0}.mat-table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]{cursor:col-resize}.mat-footer-row[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{display:inline-flex;min-width:100%;border:none;height:100px}.w-75[_ngcontent-%COMP%]{width:75px}.w-100[_ngcontent-%COMP%]{width:100px}@media (max-width: 600px){.mat-header-row[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{display:none}.mat-cell[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;display:block;font-size:1em;text-align:right;font-weight:700;margin:10px;height:100px;width:100%;word-wrap:break-word;padding:8px}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;text-transform:uppercase;font-weight:400;font-size:.85em;padding-top:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{background:beige;justify-content:center}.mat-row[_ngcontent-%COMP%]{flex-direction:column;align-items:start;padding:8px;border:1px solid #181717}}"]}),b=(0,I.gn)([(0,p.c)()],b);var k=l(1742);class it{constructor(){this.id=g.i.empty,this.roomId=g.i.empty,this.bedCount=0,this.currencyId=g.i.empty,this.price=0,this.deposit=0,this.dateFrom=new Date,this.dateTo=new Date}}var nt=l(5439),B=l(4652),oe=l(7067),at=l(1470),z=l(6856),ie=l(6744),H=l(2181);function ne(i,e){1&i&&(t.TgZ(0,"th",16),t._uU(1,"Bed Count"),t.qZA())}function ae(i,e){1&i&&(t.TgZ(0,"td",17)(1,"mat-form-field",18),t._UZ(2,"input",19),t.qZA()()),2&i&&t.Q6J("formGroup",e.$implicit)}function re(i,e){1&i&&(t.TgZ(0,"th",16),t._uU(1,"Price/Month"),t.qZA())}function se(i,e){1&i&&(t.TgZ(0,"td",17)(1,"mat-form-field",20),t._UZ(2,"input",21),t.TgZ(3,"span",22),t._uU(4,"$"),t.qZA()()()),2&i&&t.Q6J("formGroup",e.$implicit)}function le(i,e){1&i&&(t.TgZ(0,"th",16),t._uU(1,"Deposit/Month"),t.qZA())}function ce(i,e){1&i&&(t.TgZ(0,"td",17)(1,"mat-form-field",20),t._UZ(2,"input",23),t.TgZ(3,"span",22),t._uU(4,"$"),t.qZA()()()),2&i&&t.Q6J("formGroup",e.$implicit)}function me(i,e){1&i&&(t.TgZ(0,"th",16),t._uU(1,"From"),t.qZA())}const rt=function(){return{color:"red"}};function ue(i,e){if(1&i&&(t.TgZ(0,"td",17)(1,"mat-form-field",24),t._UZ(2,"input",25)(3,"mat-datepicker-toggle",26)(4,"mat-datepicker",null,27),t.qZA()()),2&i){const o=e.$implicit,a=e.index,n=t.MAs(5),r=t.oxw(2);t.Q6J("formGroup",o),t.xp6(1),t.Q6J("ngStyle",r.roomItems.at(a).get("dateFrom").invalid&&(r.roomItems.at(a).get("dateFrom").dirty||r.roomItems.at(a).get("dateFrom").touched)&&t.DdM(6,rt)),t.xp6(1),t.Q6J("matDatepicker",n)("min",r.minTripDate)("max",r.maxTripDate),t.xp6(1),t.Q6J("for",n)}}function de(i,e){1&i&&(t.TgZ(0,"th",16),t._uU(1,"To"),t.qZA())}function pe(i,e){if(1&i&&(t.TgZ(0,"td",17)(1,"mat-form-field",24),t._UZ(2,"input",28)(3,"mat-datepicker-toggle",26)(4,"mat-datepicker",null,29),t.qZA()()),2&i){const o=e.$implicit,a=e.index,n=t.MAs(5),r=t.oxw(2);t.Q6J("formGroup",o),t.xp6(1),t.Q6J("ngStyle",r.roomItems.at(a).get("dateTo").invalid&&(r.roomItems.at(a).get("dateTo").dirty||r.roomItems.at(a).get("dateTo").touched)&&t.DdM(6,rt)),t.xp6(1),t.Q6J("matDatepicker",n)("min",r.minTripDate)("max",r.maxTripDate),t.xp6(1),t.Q6J("for",n)}}function ge(i,e){1&i&&(t.TgZ(0,"th",16),t._uU(1," Actions"),t.qZA())}function he(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"td",17)(1,"button",30)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,31)(6,"button",32),t.NdJ("click",function(){const n=t.CHM(o),r=n.index,s=n.$implicit;return t.oxw(2).editLineItem(r,s)}),t.TgZ(7,"mat-icon"),t._uU(8,"edit"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Edit"),t.qZA()(),t.TgZ(11,"button",32),t.NdJ("click",function(){const n=t.CHM(o),r=n.index,s=n.$implicit;return t.oxw(2).cancelEditLineItem(r,s)}),t.TgZ(12,"mat-icon"),t._uU(13,"undo"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Cancel"),t.qZA()(),t.TgZ(16,"button",32),t.NdJ("click",function(){const n=t.CHM(o),r=n.index,s=n.$implicit;return t.oxw(2).updateLineItem(r,s)}),t.TgZ(17,"mat-icon"),t._uU(18,"save"),t.qZA(),t.TgZ(19,"span"),t._uU(20,"Save"),t.qZA()(),t.TgZ(21,"button",32),t.NdJ("click",function(){const n=t.CHM(o),r=n.index,s=n.$implicit;return t.oxw(2).deleteLineItem(r,s)}),t.TgZ(22,"mat-icon"),t._uU(23,"delete"),t.qZA(),t.TgZ(24,"span"),t._uU(25,"Delete"),t.qZA()()()()}if(2&i){const o=e.$implicit,a=t.MAs(5),n=t.oxw(2);t.Q6J("formGroup",o),t.xp6(1),t.Q6J("matMenuTriggerFor",a),t.xp6(5),t.Q6J("disabled",o.controls.disableEditButton.value),t.xp6(5),t.Q6J("disabled",o.controls.disableCancelButton.value||o.controls.id.value===n.guidEmpty),t.xp6(5),t.Q6J("disabled",o.controls.disableSaveButton.value),t.xp6(5),t.Q6J("disabled",o.controls.disableDeleteButton.value)}}function _e(i,e){1&i&&t._UZ(0,"tr",33)}function fe(i,e){1&i&&t._UZ(0,"tr",34)}function ye(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"div")(1,"mat-paginator",2),t.NdJ("page",function(n){return t.CHM(o),t.oxw().onPaginateChange(n)}),t.qZA(),t.TgZ(2,"form",3)(3,"div",4)(4,"table",5),t.ynx(5,6),t.YNc(6,ne,2,0,"th",7),t.YNc(7,ae,3,1,"td",8),t.BQk(),t.ynx(8,9),t.YNc(9,re,2,0,"th",7),t.YNc(10,se,5,1,"td",8),t.BQk(),t.ynx(11,10),t.YNc(12,le,2,0,"th",7),t.YNc(13,ce,5,1,"td",8),t.BQk(),t.ynx(14,11),t.YNc(15,me,2,0,"th",7),t.YNc(16,ue,6,7,"td",8),t.BQk(),t.ynx(17,12),t.YNc(18,de,2,0,"th",7),t.YNc(19,pe,6,7,"td",8),t.BQk(),t.ynx(20,13),t.YNc(21,ge,2,0,"th",7),t.YNc(22,he,26,6,"td",8),t.BQk(),t.YNc(23,_e,1,0,"tr",14),t.YNc(24,fe,1,0,"tr",15),t.qZA()()(),t.TgZ(25,"mat-paginator",2),t.NdJ("page",function(n){return t.CHM(o),t.oxw().onPaginateChange(n)}),t.qZA()()}if(2&i){const o=t.oxw();t.xp6(1),t.Q6J("length",o.inquiry.totalRows)("showFirstLastButtons",!0)("pageIndex",o.inquiry.currentPageIndex)("pageSize",o.inquiry.pageSize)("pageSizeOptions",o.inquiry.pageSizeOptions),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(1),t.Q6J("defaultElevation",2),t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.inquiry.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.inquiry.displayedColumns),t.xp6(1),t.Q6J("length",o.inquiry.totalRows)("showFirstLastButtons",!0)("pageIndex",o.inquiry.currentPageIndex)("pageSize",o.inquiry.pageSize)("pageSizeOptions",o.inquiry.pageSizeOptions)}}let S=class{constructor(e,o,a,n,r,s,d,h,A,f,j){this.fb=e,this.httpService=o,this.sessionService=a,this.router=n,this.activatedRoute=r,this.toastrService=s,this.actionService=d,this.fileService=h,this.lookupService=A,this.dialog=f,this.reactiveformService=j,this.title="Room Setting",this.currentLineItem=null,this.inquiry=new U.U,this.id="",this.lastRowIndex=-1,this.dataSource=new u.by,this.backUpLineItem=null,this.guidEmpty=g.i.empty}ngOnInit(){this.inquiry.displayedColumns=["bedCount","price","deposit","dateFrom","dateTo","actions"],this.inquiry.sortExpression="dateFrom",this.inquiry.sortDirection="DESC",this.initializeForm(),this.dataSource=new u.by(this.roomItems.controls),this.lastRowIndex=-1,this.activatedRoute.queryParams.pipe((0,p.t)(this)).subscribe(e=>{this.id=e.id||"",this.id&&36===this.id.length&&this.id!==g.i.empty&&this.get()}),this.initializeToolbar(),this.actionService.toggleCreateEvent.pipe((0,p.t)(this)).subscribe(()=>{this.insertLineItem()}),this.actionService.toggleRefreshEvent.pipe((0,p.t)(this)).subscribe(()=>{this.get()}),this.minTripDate=nt(k.$.min,k.t.uk).toDate(),this.maxTripDate=nt(k.$.max,k.t.uk).toDate()}ngOnDestroy(){}initializeForm(){this.form=this.fb.group({roomItems:this.fb.array([])})}initializeToolbar(){const e=new N.P;e.showNavigatebefore=!0,e.showReferesh=!0,e.title=this.title,e.navigatebeforeUrl="/dormitorymanagement/room/inquiry",this.actionService.setToolbarSettings(e)}get(){if(!this.id||""===this.id||this.id===g.i.empty)return;const e=(new J.LE).set("id",this.id);this.httpService.HttpGetWithParams(this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"room/getItemsByID",e).subscribe(a=>{this.getSuccess(a)},a=>this.getFailed(a))}getSuccess(e){this.roomItems.clear(),e.entity.forEach((a,n)=>{this.roomItems.push(this.addItem(a,!1))}),this.inquiry.totalRows=e.totalRows,this.inquiry.totalPages=e.totalPages,this.roomItems.disable({onlySelf:!0,emitEvent:!1}),this.dataSource._updateChangeSubscription(),this.lastRowIndex=e.entity.length}getFailed(e){}onPaginateChange(e){this.inquiry.currentPageNumber=e.pageIndex+1,this.inquiry.pageSize=e.pageSize}setFormArrayMenuButton(e,o){this.roomItems.disable();const a=o?"enable":"disable";this.roomItems.at(e)[a]({onlySelf:!0,emitEvent:!1}),this.roomItems.at(e).get("disableSaveButton").patchValue(!o),this.roomItems.at(e).get("disableCancelButton").patchValue(!o),this.roomItems.at(e).get("disableDeleteButton").patchValue(!o),this.roomItems.at(e).get("disableEditButton").patchValue(o)}get roomItems(){return this.form.get("roomItems")}addItem(e,o){return this.fb.group({id:[e.id],roomId:[e.roomId],bedCount:[e.bedCount,[m.kI.required]],price:[e.price,[m.kI.required]],deposit:[e.deposit,[m.kI.required]],dateFrom:[e.dateFrom,[m.kI.required,B.O.isValidDate()]],dateTo:[e.dateTo,[m.kI.required,B.O.isValidDate()]],disableEditButton:[o],disableCancelButton:[o],disableSaveButton:[!o],disableDeleteButton:[o]},{validator:[B.O.isValidDateRange2("dateFrom","dateTo")]})}insertLineItem(){let e=new it;e.roomId=this.id,this.roomItems.push(this.addItem(e,!0)),this.dataSource._updateChangeSubscription(),this.setFormArrayMenuButton(this.roomItems.controls.length-1,!0),this.lastRowIndex=this.roomItems.controls.length}editLineItem(e,o){this.actionService.formDirty=!1,this.setFormArrayMenuButton(e,!0),this.backUpLineItem=o.value}cancelEditLineItem(e,o){this.actionService.formDirty=!1,this.backUpLineItem.id===o.get("id").value&&(this.reactiveformService.setReactiveFormObject(this.roomItems.at(e),this.backUpLineItem),this.backUpLineItem=null),this.setFormArrayMenuButton(e,!1)}updateLineItem(e,o){if(!this.roomItems.controls.at(e).dirty||!this.roomItems.controls.at(e).touched)return void this.toastrService.ShowInfoMessage("No record updated.");if(this.roomItems.controls.at(e).invalid)return void this.toastrService.ShowErrorMessage("Invalid input, Please try again.");let a=new it;a=this.reactiveformService.getReactiveFormObject(o);let n="",r=!1;a.id===g.i.empty||""===a.id?(r=!0,n=this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"room/createItem"):n=this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"room/updateItem",this.httpService.HttpPost(n,a).subscribe(s=>{this.updateLineItemSuccess(s,e,o),r&&this.roomItems.at(e).get("id").patchValue(s.entity.id)},s=>this.updateLineItemFailed(s))}updateLineItemSuccess(e,o,a){this.form.enable(),this.setFormArrayMenuButton(o,!1),this.toastrService.ShowSuccessMessage("Line Item successfully updated.")}updateLineItemFailed(e){}deleteLineItem(e,o){const a=o.get("id").value;if(-1!==e){const n=new q.vA;n.autoFocus=!0,n.data=new tt.B("Delete record?","Are you wants to delete this record","OK","Cancel",!1,null),this.dialog.open(P.z,n).afterClosed().subscribe(s=>{if(!0===s){if(a===g.i.empty||""===a)return void this.removeNewItem(e,o);const d=a,h=(new J.LE).set("id",d);this.httpService.HttpDelete(this.sessionService.urlSetting.dormitoryManagementWebApiUrl+"room/deleteItem",h).subscribe(f=>{this.deleteLineItemSuccess(f,e)},f=>this.deleteLineItemFailed(f))}})}}removeNewItem(e,o){this.roomItems.removeAt(e),this.lastRowIndex=this.roomItems.controls.length,this.dataSource._updateChangeSubscription()}deleteLineItemSuccess(e,o){this.roomItems.removeAt(o),this.lastRowIndex=this.roomItems.controls.length,this.dataSource._updateChangeSubscription(),this.toastrService.ShowSuccessMessage("Line Item successfully deleted.")}deleteLineItemFailed(e){}};S.\u0275fac=function(e){return new(e||S)(t.Y36(m.qu),t.Y36(c.OE),t.Y36(c.mj),t.Y36(y.F0),t.Y36(y.gz),t.Y36(c._W),t.Y36(c.cw),t.Y36(c.Ip),t.Y36(c.WO),t.Y36(q.uw),t.Y36(c.xd))},S.\u0275cmp=t.Xpm({type:S,selectors:[["app-room-item"]],decls:2,vars:4,consts:[[3,"lastRowIndex","title","message"],[4,"ngIf"],[3,"length","showFirstLastButtons","pageIndex","pageSize","pageSizeOptions","page"],[3,"formGroup"],["formArrayName","roomItems","appMaterialElevation","","raisedElevation","16",1,"matero-table-container","mat-form-field-no-label",3,"defaultElevation"],["mat-table","",3,"dataSource"],["matColumnDef","bedCount"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"formGroup",4,"matCellDef"],["matColumnDef","price"],["matColumnDef","deposit"],["matColumnDef","dateFrom"],["matColumnDef","dateTo"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",3,"formGroup"],[2,"max-width","100px"],["tabindex","1","matInput","","formControlName","bedCount","type","text","mask","0000"],[2,"max-width","150px"],["tabindex","2","matInput","","formControlName","price","type","text","mask","separator.2","thousandSeparator",","],["matPrefix",""],["matInput","","tabindex","3","formControlName","deposit","type","text","mask","separator.2","thousandSeparator",","],[1,"max-w-150","min-w-100",3,"ngStyle"],["matInput","","tabindex","4","formControlName","dateFrom","appDatemask","",3,"matDatepicker","min","max"],["matSuffix","",3,"for"],["dateFromPicker",""],["matInput","","tabindex","5","formControlName","dateTo","appDatemask","",3,"matDatepicker","min","max"],["dateToPicker",""],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t._UZ(0,"app-empty-layout",0),t.YNc(1,ye,26,15,"div",1)),2&e&&(t.Q6J("lastRowIndex",o.lastRowIndex)("title","No record found")("message","click new button to add record"),t.xp6(1),t.Q6J("ngIf",o.lastRowIndex>0))},directives:[D.B,_.O5,V.NW,m._Y,m.JL,m.sg,m.CE,oe.F,u.BZ,u.w1,u.fO,u.ge,u.Dz,u.ev,Z.KE,E.Nt,m.Fj,at.hx,m.JJ,m.u,Z.qo,_.PC,Q.Zl,z.hl,ie.v,z.nW,Z.R9,z.Mq,Y.lW,H.p6,F.Hw,H.VK,H.OP,u.as,u.XQ,u.nj,u.Gk],styles:[""]}),S=(0,I.gn)([(0,p.c)()],S);const ve=[{path:"",component:T,children:[{path:"",redirectTo:"maintenance",pathMatch:"full"},{path:"maintenance/:id",component:b},{path:"maintenance",component:b,data:{title:"Room maintenance"}},{path:"gallery/:id",component:C},{path:"gallery",component:C,data:{title:"Room photo"}},{path:"items/:id",component:S},{path:"items",component:S},{path:"occupants/:id",component:x},{path:"occupants",component:x}]}];let xe=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[y.Bz.forChild(ve)],y.Bz]}),i})();var Ce=l(224),be=l(4253),Se=l(9112);const st={validation:!1},Ze=[xe,Ce.m,be.O,at.yI.forRoot(st),Se.I$];let Te=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.ez,...Ze]]}),i})()}}]);